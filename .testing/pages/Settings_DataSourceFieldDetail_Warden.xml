<skuidpage unsavedchangeswarning="yes" personalizationmode="client">
	<models>
		<model id="stng__SiteEnv" label="SiteEnvironment" labelplural="SiteEnvironment" limit="20" query="false" createrowifnonefound="false" datasource="Ui-Only" processonclient="true">
			<fields>
				<field id="PLINY_WARDEN_HOST" displaytype="TEXT" label="PLINYWARDENHOST"/>
				<field id="PLINY_WARDEN_PORT" displaytype="TEXT" label="PLINYWARDENPORT"/>
				<field id="PLINY_WARDEN_VERSION" displaytype="TEXT" label="PLINYWARDENVERSION"/>
			</fields>
			<conditions/>
			<actions/>
		</model>
		<model id="stng__DataSources" query="true" createrowifnonefound="false" datasource="SkuidLocal" label="Data Source" labelplural="Data Sources" type="readwrite" namefield="name" unloadwarningifunsavedchanges="true">
			<methods>
				<method type="query" verb="GET" endpoint="/objects/datasource/{{dataSourceId}}?fields=id,name,data_service_id,data_service.host,data_service.port,data_service.version,external_id"/>
			</methods>
			<conditions>
				<condition type="param" value="dataSourceId" enclosevalueinquotes="true" field="dataSourceId" sourcetype="param" sourceparam="dataSourceId" novaluebehavior="noquery"/>
			</conditions>
			<fields>
				<field id="id" displaytype="TEXT" readonly="true" label="Id"/>
				<field id="name" displaytype="TEXT" label="Name" length="255" required="true"/>
				<field id="data_service_id" displaytype="TEXT" label="Data Service Id"/>
				<field id="data_service.host" displaytype="TEXT" label="Proxy Host"/>
				<field id="data_service.port" displaytype="TEXT" label="Proxy Port"/>
				<field id="data_service.version" displaytype="TEXT" label="Version"/>
				<field id="external_id" displaytype="TEXT" label="External Id"/>
				<field id="data_service_host" uionly="true" displaytype="FORMULA" readonly="true" returntype="TEXT" defaultvaluetype="fieldvalue">
					<formula>IF(ISBLANK({{data_service_id}}),{{$Model.stng__SiteEnv.data.0.PLINY_WARDEN_HOST}},{{data_service.host}})</formula>
				</field>
				<field id="data_service_port" uionly="true" displaytype="FORMULA" readonly="true" returntype="TEXT" defaultvaluetype="fieldvalue">
					<formula>IF(ISBLANK({{data_service_id}}),{{$Model.stng__SiteEnv.data.0.PLINY_WARDEN_PORT}},{{data_service.port}})</formula>
				</field>
				<field id="data_service_version" uionly="true" displaytype="FORMULA" readonly="true" returntype="TEXT" defaultvaluetype="fieldvalue">
					<formula>IF(ISBLANK({{data_service_id}}),{{$Model.stng__SiteEnv.data.0.PLINY_WARDEN_VERSION}},{{data_service.version}})</formula>
				</field>
				<field id="external_key" uionly="true" displaytype="FORMULA" readonly="true" returntype="TEXT" defaultvaluetype="fieldvalue">
					<formula>IF((ISBLANK({{data_service_version}})||{{data_service_version}}="0.2.0"||{{data_service_version}}="0.2.1"),{{external_id}},{{name}})</formula>
				</field>
			</fields>
			<idfields>
				<field>id</field>
			</idfields>
			<actions/>
		</model>
		<model id="stng__DataSource_Warden" query="false" createrowifnonefound="false" datasource="SkuidDataService" label="Data Source" labelplural="Data Sources" type="readwrite" namefield="name" unloadwarningifunsavedchanges="true">
			<methods>
				<method type="query" verb="GET" endpoint="/api/v2/datasources/{{dataSourceName}}"/>
			</methods>
			<conditions>
				<condition type="modelmerge" value="external_key" enclosevalueinquotes="true" field="external_key" sourcetype="modelmerge" model="stng__DataSources" sourceparam="dataSourceName" novaluebehavior="noquery"/>
				<condition type="modelmerge" value="data_service_host" enclosevalueinquotes="true" field="data_service_host" sourcetype="modelmerge" model="stng__DataSources" sourceparam="host" novaluebehavior="noquery"/>
				<condition type="modelmerge" value="data_service_port" enclosevalueinquotes="true" field="data_service_port" sourcetype="modelmerge" model="stng__DataSources" sourceparam="port" novaluebehavior="noquery"/>
			</conditions>
			<fields>
				<field id="id" displaytype="TEXT" readonly="true" label="Id"/>
				<field id="name" displaytype="TEXT" label="Name" length="255" required="true"/>
			</fields>
			<idfields>
				<field>id</field>
			</idfields>
			<actions/>
		</model>
		<model id="stng__DataSourceObjects" query="false" createrowifnonefound="false" datasource="SkuidDataService" label="Data Source Object" labelplural="Data Source Objects" type="readwrite" namefield="name">
			<methods>
				<method type="query" verb="GET" endpoint="/api/v2/datasources/{{dataSourceId}}/entities/{{entityId}}"/>
			</methods>
			<conditions>
				<condition value="entityId" field="entityId" sourcetype="param" sourceparam="entityId" novaluebehavior="noquery" type="param" operator="=" enclosevalueinquotes="true"/>
				<condition type="modelmerge" value="id" enclosevalueinquotes="true" field="id" sourcetype="modelmerge" model="stng__DataSource_Warden" sourceparam="dataSourceId" novaluebehavior="noquery"/>
				<condition type="modelmerge" value="data_service_host" enclosevalueinquotes="true" field="data_service_host" sourcetype="modelmerge" model="stng__DataSources" sourceparam="host" novaluebehavior="noquery"/>
				<condition type="modelmerge" value="data_service_port" enclosevalueinquotes="true" field="data_service_port" sourcetype="modelmerge" model="stng__DataSources" sourceparam="port" novaluebehavior="noquery"/>
			</conditions>
			<fields>
				<field id="id" displaytype="TEXT" readonly="true" label="Id"/>
				<field id="name" displaytype="TEXT" label="Name" length="255" required="true"/>
			</fields>
			<idfields>
				<field>id</field>
			</idfields>
			<actions/>
		</model>
		<model id="stng__DataSourceFields" query="false" createrowifnonefound="false" datasource="SkuidDataService" label="Data Source Field" labelplural="Data Source Fields" type="readwrite" namefield="name">
			<methods>
				<method type="query" verb="GET" endpoint="/api/v2/datasources/{{dataSourceId}}/entities/{{entityId}}/fields/{{fieldId}}"/>
				<method type="insert" verb="POST" successif="requestsucceeds" sendchanges="asjsoninbody" insertresponse="recordinbody" endpoint="/api/v2/datasources/{{dataSourceId}}/entities/{{entityId}}/fields/{{fieldId}}"/>
				<method type="update" verb="PUT" successif="requestsucceeds" sendchanges="asjsoninbody" endpoint="/api/v2/datasources/{{dataSourceId}}/entities/{{entityId}}/fields/{{fieldId}}"/>
				<method type="delete" verb="DELETE" endpoint="/api/v2/datasources/{{dataSourceId}}/entities/{{entityId}}/fields/{{fieldId}}" successif="requestsucceeds"/>
			</methods>
			<conditions>
				<condition value="fieldId" field="fieldId" sourcetype="param" sourceparam="fieldId" novaluebehavior="noquery" type="param" operator="=" enclosevalueinquotes="true"/>
				<condition value="entityId" field="entityId" sourcetype="param" sourceparam="entityId" novaluebehavior="noquery" type="param" operator="=" enclosevalueinquotes="true"/>
				<condition type="modelmerge" value="id" enclosevalueinquotes="true" field="id" sourcetype="modelmerge" model="stng__DataSource_Warden" sourceparam="dataSourceId" novaluebehavior="noquery"/>
				<condition type="modelmerge" value="data_service_host" enclosevalueinquotes="true" field="data_service_host" sourcetype="modelmerge" model="stng__DataSources" sourceparam="host" novaluebehavior="noquery"/>
				<condition type="modelmerge" value="data_service_port" enclosevalueinquotes="true" field="data_service_port" sourcetype="modelmerge" model="stng__DataSources" sourceparam="port" novaluebehavior="noquery"/>
			</conditions>
			<fields>
				<field id="id" displaytype="TEXT" readonly="true" label="Id"/>
				<field id="name" displaytype="TEXT" label="Name" length="255" required="true"/>
				<field id="data_source_object_id" displaytype="TEXT" label="Name" length="255"/>
				<field id="data_source_object.name" displaytype="TEXT" label="Name" length="255"/>
				<field id="display_type" displaytype="PICKLIST" ogdisplaytype="TEXT" label="Display Type" required="true" picklistsource="manual">
					<picklistentries>
						<entry value="BOOLEAN" label="Checkbox"/>
						<entry value="COMBOBOX" label="Combobox"/>
						<entry value="CURRENCY" label="Currency"/>
						<entry value="DATE" label="Date"/>
						<entry value="DATETIME" label="Datetime"/>
						<entry value="EMAIL" label="Email"/>
						<entry value="PERCENT" label="Percent"/>
						<entry value="PICKLIST" label="Picklist"/>
						<entry value="MULTIPICKLIST" label="Multi-select Picklist"/>
						<entry value="DOUBLE" label="Number"/>
						<entry value="INTEGER" label="Integer"/>
						<entry value="REFERENCE" label="Reference"/>
						<entry value="TEXT" label="Text"/>
						<entry value="TEXTAREA" label="Textarea"/>
						<entry value="URL" label="Url"/>
						<entry value="UUID" label="UniqueId (UUID)"/>
					</picklistentries>
				</field>
				<field id="label" displaytype="TEXT" label="Label"/>
				<field id="length" displaytype="INTEGER" label="Length"/>
				<field id="scale" displaytype="INTEGER" label="Scale"/>
				<field id="precision" displaytype="INTEGER" label="Precision"/>
				<field id="is_id_field" displaytype="BOOLEAN" label="Id Field"/>
				<field id="is_name_field" displaytype="BOOLEAN" label="Name Field"/>
				<field id="filterable" displaytype="BOOLEAN" label="Filterable"/>
				<field id="groupable" displaytype="BOOLEAN" label="Groupable"/>
				<field id="required" displaytype="BOOLEAN" label="Required"/>
				<field id="readonly" displaytype="BOOLEAN" label="Readonly"/>
				<field id="sortable" displaytype="BOOLEAN" label="Sortable"/>
				<field id="reference_to" displaytype="OBJECT" label="Reference"/>
				<field id="reference_to.0.keyfield" displaytype="Text" label="Reference Key Field"/>
				<field id="reference_to.0.object" displaytype="Text" label="Referenced Object"/>
				<field id="reference_to.0.reference_field.name" displaytype="Text" label="Reference Key Field"/>
				<field id="reference_to.0.reference_field.entity.name" displaytype="Text" label="Referenced Object"/>
			</fields>
			<idfields>
				<field>id</field>
			</idfields>
			<actions/>
		</model>
		<model id="stng__DataSourceFieldPicklistEntries" query="false" createrowifnonefound="false" datasource="SkuidDataService" label="Data Source Field Picklist Entry" labelplural="Data Source Field Picklist Entries" type="readwrite" namefield="name">
			<methods>
				<method type="query" verb="GET" endpoint="/api/v2/datasources/{{dataSourceId}}/entities/{{entityId}}/fields/{{fieldId}}/picklistEntries"/>
			</methods>
			<conditions>
				<condition value="fieldId" field="fieldId" sourcetype="param" sourceparam="fieldId" novaluebehavior="noquery" type="param" operator="=" enclosevalueinquotes="true"/>
				<condition value="entityId" field="entityId" sourcetype="param" sourceparam="entityId" novaluebehavior="noquery" type="param" operator="=" enclosevalueinquotes="true"/>
				<condition type="modelmerge" value="id" enclosevalueinquotes="true" field="id" sourcetype="modelmerge" model="stng__DataSource_Warden" sourceparam="dataSourceId" novaluebehavior="noquery"/>
				<condition type="modelmerge" value="data_service_host" enclosevalueinquotes="true" field="data_service_host" sourcetype="modelmerge" model="stng__DataSources" sourceparam="host" novaluebehavior="noquery"/>
				<condition type="modelmerge" value="data_service_port" enclosevalueinquotes="true" field="data_service_port" sourcetype="modelmerge" model="stng__DataSources" sourceparam="port" novaluebehavior="noquery"/>
			</conditions>
			<fields>
				<field id="value" displaytype="TEXT" readonly="true" label="Value"/>
				<field id="label" displaytype="TEXT" readonly="true" label="Label"/>
				<field id="active" displaytype="TEXT" readonly="true" label="Active"/>
			</fields>
			<idfields>
				<field>value</field>
			</idfields>
			<actions/>
		</model>
	</models>
	<pageregioncontents>
		<pageregioncontent regionid="sk-1uFo3V-67" uniqueid="sk-1uLp4g-23" defaultcontent="true">
			<components>
				<wrapper uniqueid="sk-2nCEhk-379">
					<components>
						<template multiple="false" uniqueid="sk-xxOCz-217" allowhtml="true" model="stng__DataSourceFields">
							<contents>&lt;a href="/ui/configure"&gt;Data Sources&lt;/a&gt; &gt; &lt;a href="/ui/datasource_warden/{{{$Model.stng__DataSources.data.0.id}}}"&gt;{{$Model.stng__DataSource_Warden.data.0.name}}&lt;/a&gt; &gt; &lt;a href="/ui/datasource_warden/{{{$Model.stng__DataSources.data.0.id}}}/object/{{{$Model.stng__DataSourceObjects.data.0.id}}}"&gt;{{$Model.stng__DataSourceObjects.data.0.name}}&lt;/a&gt; &gt; {{name}}</contents>
						</template>
						<pagetitle uniqueid="sk-nJ0I2-509" model="stng__DataSourceFields">
							<subtitle/>
							<actions>
								<action type="delete" uniqueid="sk-uejPg-233" afterDelete="/ui/datasource_warden/{{{$Model.stng__DataSources.data.0.id}}}/object/{{{$Model.stng__DataSourceObjects.data.0.id}}}"/>
								<action type="savecancel" label="New Button" uniqueid="sk-xfqs--537"/>
							</actions>
							<renderconditions logictype="and"/>
							<maintitle>Field: {{name}}</maintitle>
						</pagetitle>
						<basicfieldeditor showheader="true" showsavecancel="false" showerrorsinline="true" model="stng__DataSourceFields" buttonposition="" uniqueid="sk-xdxM_-189" mode="read">
							<columns>
								<column width="50%">
									<sections>
										<section title="" collapsible="no" showheader="false">
											<fields>
												<field uniqueid="sk-xe2bK-209" id="name" valuehalign="" type=""/>
												<field uniqueid="sk-xe2bK-210" id="display_type" valuehalign="" type=""/>
												<field uniqueid="sk-xe2br-211" id="label" valuehalign="" type=""/>
												<field uniqueid="sk-xe2ba-211" id="length" valuehalign="" type="">
													<renderconditions logictype="and" onhidedatabehavior="keep">
														<rendercondition type="multiple" operator="in" fieldmodel="stng__DataSourceFields" sourcetype="fieldvalue" field="display_type" fieldtargetobjects="SkuidLocal" value="" enclosevalueinquotes="true">
															<values>
																<value>INTEGER</value>
																<value>TEXT</value>
															</values>
														</rendercondition>
													</renderconditions>
												</field>
												<field uniqueid="sk-xe2ba-212" id="precision" valuehalign="" type="">
													<renderconditions logictype="and" onhidedatabehavior="keep">
														<rendercondition type="multiple" operator="in" fieldmodel="stng__DataSourceFields" sourcetype="fieldvalue" field="display_type" fieldtargetobjects="SkuidLocal" value="" enclosevalueinquotes="true">
															<values>
																<value>DOUBLE</value>
																<value>CURRENCY</value>
																<value>PERCENT</value>
															</values>
														</rendercondition>
													</renderconditions>
												</field>
												<field uniqueid="sk-xe2ba-213" id="scale" valuehalign="" type="">
													<renderconditions logictype="and" onhidedatabehavior="keep">
														<rendercondition type="multiple" operator="in" fieldmodel="stng__DataSourceFields" sourcetype="fieldvalue" field="display_type" fieldtargetobjects="SkuidLocal" value="" enclosevalueinquotes="true">
															<values>
																<value>DOUBLE</value>
																<value>CURRENCY</value>
																<value>PERCENT</value>
															</values>
														</rendercondition>
													</renderconditions>
												</field>
											</fields>
										</section>
									</sections>
								</column>
								<column width="50%">
									<sections>
										<section title="" collapsible="no" showheader="false">
											<fields>
												<field uniqueid="sk-xe2bK-212" id="is_id_field" valuehalign="" type=""/>
												<field uniqueid="sk-xe2bK-213" id="is_name_field" valuehalign="" type=""/>
												<field uniqueid="sk-xe2bK-214" id="filterable" valuehalign="" type=""/>
												<field uniqueid="sk-xe2bK-215" id="groupable" valuehalign="" type=""/>
												<field uniqueid="sk-xe2bK-216" id="sortable" valuehalign="" type=""/>
												<field uniqueid="sk-xe2bK-217" id="required" valuehalign="" type=""/>
												<field uniqueid="sk-xe2bK-218" id="readonly" valuehalign="" type=""/>
											</fields>
										</section>
									</sections>
								</column>
							</columns>
						</basicfieldeditor>
						<wrapper uniqueid="sk-MM2YV-319">
							<components>
								<pagetitle uniqueid="sk-MM4Xx-328" model="stng__DataSourceFields">
									<maintitle>Reference Field Info</maintitle>
									<actions/>
								</pagetitle>
								<basicfieldeditor showheader="true" showsavecancel="false" showerrorsinline="true" model="stng__DataSourceFields" buttonposition="" uniqueid="sk-MM9ZH-380" mode="read" layout="">
									<columns>
										<column width="50%">
											<sections>
												<section title="Version &lt; 0.2.4" collapsible="no" showheader="false">
													<fields>
														<field uniqueid="sk-xe2ba-212" id="reference_to.0.keyfield" valuehalign="" type=""/>
														<field uniqueid="sk-xe2ba-213" id="reference_to.0.object" valuehalign="" type=""/>
													</fields>
													<renderconditions logictype="and">
														<rendercondition type="fieldvalue" enclosevalueinquotes="true" fieldmodel="stng__DataSources" sourcetype="fieldvalue" value="0.2.3" operator="=" field="data_service_version"/>
													</renderconditions>
												</section>
												<section title="Version &gt;= 0.2.4" collapsible="no" showheader="false">
													<fields>
														<field uniqueid="sk-xe2ba-214" id="reference_to.0.reference_field.name" valuehalign="" type=""/>
														<field uniqueid="sk-xe2ba-215" id="reference_to.0.reference_field.entity.name" valuehalign="" type=""/>
													</fields>
													<renderconditions logictype="and">
														<rendercondition type="fieldvalue" enclosevalueinquotes="true" fieldmodel="stng__DataSources" sourcetype="fieldvalue" value="0.2.3" operator="!=" field="data_service_version"/>
													</renderconditions>
												</section>
											</sections>
										</column>
										<column width="50%">
											<sections/>
										</column>
									</columns>
								</basicfieldeditor>
							</components>
							<styles>
								<styleitem type="background"/>
								<styleitem type="border"/>
								<styleitem type="size"/>
							</styles>
							<renderconditions logictype="and">
								<rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="stng__DataSourceFields" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="display_type" fieldtargetobjects="SkuidLocal" value="REFERENCE"/>
							</renderconditions>
						</wrapper>
						<wrapper uniqueid="sk-MM2YV-320">
							<components>
								<skootable heading="Picklist Entries" showconditions="false" showsavecancel="false" showerrorsinline="true" searchmethod="server" searchbox="false" showexportbuttons="false" hideheader="false" hidefooter="true" pagesize="10" alwaysresetpagination="false" createrecords="true" model="stng__DataSourceFieldPicklistEntries" buttonposition="" mode="readonly" allowcolumnreordering="false" responsive="true" uniqueid="sk-2CGx-515">
									<fields>
										<field id="value" uniqueid="fi-2Cac-1498"/>
									</fields>
									<views>
										<view type="standard"/>
									</views>
									<renderconditions logictype="and">
										<rendercondition type="fieldvalue" enclosevalueinquotes="true" fieldmodel="stng__DataSourceFieldPicklistEntries" sourcetype="modelproperty" nosourcerowbehavior="deactivate" sourceproperty="hasRows"/>
									</renderconditions>
								</skootable>
							</components>
						</wrapper>
					</components>
					<renderconditions logictype="and">
						<rendercondition type="fieldvalue" enclosevalueinquotes="true" fieldmodel="stng__DataSources" sourcetype="modelproperty" nosourcerowbehavior="deactivate" sourceproperty="hasRows"/>
					</renderconditions>
				</wrapper>
			</components>
		</pageregioncontent>
	</pageregioncontents>
	<resources>
		<labels/>
		<javascript>
			<jsitem location="staticresource" namespace="skuid" filepath="js/skuidPages/skuidSettings.js" scope="api"/>
			<jsitem location="staticresource" namespace="skuid" filepath="js/skuidPages/dataSourceConfig.js" scope="api"/>
		</javascript>
		<css></css>
		<actionsequences uniqueid="sk-3eXJ-317">
			<actionsequence id="0306b8c2-7cfe-415f-9205-ceaa6c5bbbbe" label="Get Data Service and Load Models" type="event-triggered" event-scope="component" event-name="page.rendered">
				<description/>
				<actions>
					<action type="custom" snippet="skuid.settings.dataSources.populateDefaultDataService"/>
					<action type="requeryModels" behavior="standard">
						<models>
							<model>stng__DataSource_Warden</model>
							<model>stng__DataSourceObjects</model>
							<model>stng__DataSourceFields</model>
							<model>stng__DataSourceFieldPicklistEntries</model>
						</models>
					</action>
				</actions>
			</actionsequence>
		</actionsequences>
	</resources>
	<styles/>
</skuidpage>

<skuid__page personalizationmode="client" unsavedchangeswarning="yes" theme="Skuid Admin" title="Files">
	<models>
		<model id="page_ui_control" query="true" createrowifnonefound="true" datasource="Ui-Only">
			<fields>
				<field id="sortby" displaytype="PICKLIST" ogdisplaytype="TEXT" picklistsource="manual" returntype="TEXT" defaultvaluetype="fieldvalue" defaultValue="-created_at">
					<picklistentries>
						<entry value="-created_at" label="Last Uploaded"/>
						<entry value="name" label="Name A-Z"/>
					</picklistentries>
				</field>
			</fields>
			<conditions/>
			<actions>
				<action>
					<actions>
						<action type="requeryModel" model="stng__Files" behavior="standard"/>
					</actions>
					<events>
						<event>row.updated</event>
					</events>
					<fields>
						<field>sortby</field>
					</fields>
				</action>
			</actions>
		</model>
		<model id="stng__Files_ui_control" limit="" query="true" createrowifnonefound="false" datasource="SkuidLocal" type="readwrite" label="Component Pack" labelplural="Component Packs" namefield="name" unloadwarningifunsavedchanges="false">
			<fields>
				<field id="id" label="Id" displaytype="TEXT" accessible="true" filterable="true"/>
				<field id="name" label="Name" displaytype="TEXT" accessible="true" createable="true" editable="false" filterable="true" required="true" length="80"/>
			</fields>
			<idfields>
				<field>id</field>
			</idfields>
			<conditions>
				<condition type="fieldvalue" value="" enclosevalueinquotes="true" sourcetype="param" sourceparam="search" state="filterableoff" inactive="true" name="search"/>
				<condition type="modelmerge" value="" sourcetype="param" sourceparam="sortby" operator="=" model="page_ui_control" enclosevalueinquotes="true" mergefield="sortby" novaluebehavior="deactivate"/>
			</conditions>
			<methods>
				<method type="query" verb="GET" endpoint="/objects/file" payloadcontenttype="JSON" limitmethod="simple" simplerecordslimitparameter="limit" limit="2"/>
			</methods>
			<actions/>
		</model>
		<model id="stng__Files" limit="" query="true" createrowifnonefound="false" datasource="SkuidLocal" type="readwrite" label="File" labelplural="Files" namefield="name">
			<fields>
				<field id="id" label="Id" displaytype="TEXT" accessible="true" filterable="true"/>
				<field id="name" label="Name" displaytype="TEXT" accessible="true" createable="true" filterable="true" required="true" defaultvaluetype="fieldvalue" readonly="false"/>
				<field id="active" label="Active" displaytype="BOOLEAN" accessible="true" filterable="true" required="false"/>
				<field id="is_public" label="Public" displaytype="BOOLEAN" accessible="true" filterable="true" required="true"/>
				<field id="file_id" label="File Id" displaytype="TEXT" accessible="true" filterable="true"/>
				<field id="last_modified_at" label="Updated At" displaytype="DATETIME" accessible="true" filterable="true" readonly="true"/>
				<field id="last_modified_by" label="Updated By" displaytype="TEXT" accessible="true" filterable="true" readonly="true"/>
				<field id="resource_name" label="File Name" displaytype="TEXT" accessible="true" createable="true" editable="false" filterable="true"/>
				<field id="created_by_id" label="Created By" displaytype="TEXT" accessible="true" filterable="true" readonly="true"/>
				<field id="created_at" label="Created At" displaytype="DATETIME" accessible="true" filterable="true" readonly="true"/>
				<field id="created_by.name" label="Created By" displaytype="TEXT" accessible="true" filterable="true" readonly="true"/>
				<field id="pretty_update_date" displaytype="FORMULA" ogdisplaytype="TEXT" readonly="true" returntype="TEXT" uionly="true" defaultvaluetype="fieldvalue">
					<formula>IF({{created_at}}={{updated_at}},
JOIN_TEXT( " ","Uploaded", DATE_DIFF({{updated_at}}) ),
JOIN_TEXT( " ","Updated", DATE_DIFF({{updated_at}}) )
)</formula>
				</field>
				<field id="content_type" label="Content Type" ispolymorphic="false" isnamepointing="false" displaytype="STRING" accessible="true" filterable="true"/>
				<field id="description" label="Description" ispolymorphic="false" isnamepointing="false" displaytype="STRING" accessible="true" filterable="true"/>
				<field id="updated_at" label="Updated At" ispolymorphic="false" isnamepointing="false" displaytype="DATETIME" accessible="true" filterable="true"/>
				<field id="modstamp" displaytype="FORMULA" uionly="true" ogdisplaytype="STRING" readonly="true" returntype="TEXT">
					<formula>TIMESTAMP({{{updated_at}}})</formula>
				</field>
				<field id="icon_url" displaytype="FORMULA" ogdisplaytype="TEXT" readonly="true" returntype="TEXT" uionly="true">
					<formula>CASE({{content_type}}, 
"image/png", "image", 
"image/svg+xml", "image",
"text/css", "css",
"application/zip", "zip",
"text/csv", "csv",
"image/jpeg", "image",
"text/xml", "xml",
"application/pdf", "pdf",
"text/javascript", "js",
"attachment")</formula>
				</field>
				<field id="is_public_ui" displaytype="PICKLIST" uionly="true" label="Visibility" helptext="File visibility" ogdisplaytype="TEXT" picklistsource="manual" returntype="TEXT">
					<picklistentries>
						<entry value="Private" label="Private"/>
						<entry value="Public" label="Public"/>
					</picklistentries>
				</field>
			</fields>
			<idfields>
				<field>id</field>
			</idfields>
			<conditions>
				<condition type="fieldvalue" value="" enclosevalueinquotes="true" sourcetype="param" sourceparam="search" state="filterableoff" inactive="true" name="search"/>
				<condition type="modelmerge" value="" sourcetype="param" sourceparam="sortby" operator="=" model="page_ui_control" enclosevalueinquotes="true" mergefield="sortby" novaluebehavior="deactivate"/>
				<condition type="fieldvalue" value="" enclosevalueinquotes="true" sourcetype="param" sourceparam="type" state="filterableoff" inactive="true" name="type"/>
			</conditions>
			<actions>
				<action>
					<actions>
						<action type="requeryModels" behavior="standard">
							<models>
								<model>stng__Files_ui_control</model>
							</models>
							<onerroractions>
								<action type="blockUI" message="There was an error" timeout="3000"/>
							</onerroractions>
						</action>
					</actions>
					<events>
						<event>models.saved</event>
					</events>
				</action>
			</actions>
			<methods>
				<method type="query" verb="GET" endpoint="/objects/file?order={{sortby}}&amp;fields=id,name,is_public,content_type,created_by_id,created_by.first_name,created_by.last_name,created_at,updated_by_id,updated_by.first_name,updated_by.last_name,updated_at,description{{#type}}&amp;where={&quot;content_type&quot;:&quot;{{type}}&quot;}{{/type}}{{#search}}&amp;search={{.}}{{/search}}" payloadcontenttype="JSON" limitmethod="simple" simplerecordslimitparameter="limit" limit="20" paginationmethod="simple" offsetparameter="offset"/>
				<method type="update" verb="PUT" endpoint="/objects/file/{{id}}" successif="requestsucceeds" sendchanges="asjsoninbody"/>
				<method type="delete" verb="DELETE" endpoint="/objects/file/{{id}}" successif="requestsucceeds"/>
			</methods>
		</model>
		<model id="stng_ContentTypes" query="true" createrowifnonefound="false" datasource="SkuidLocal" verb="GET" payloadcontenttype="JSON" endpoint="/file/content-types" unloadwarningifunsavedchanges="false">
			<fields>
				<field id="content_type" label="Content Type" ispolymorphic="false" isnamepointing="false" displaytype="STRING" accessible="true" filterable="true"/>
			</fields>
			<conditions/>
			<actions>
				<action>
					<actions>
						<action type="requeryModels" behavior="standard">
							<models>
								<model>stng__Files_ui_control</model>
								<model>stng__Files</model>
							</models>
						</action>
					</actions>
					<events>
						<event>models.saved</event>
					</events>
				</action>
			</actions>
			<idfields>
				<field>content_type</field>
			</idfields>
		</model>
	</models>
	<components>
		<skuid__grid uniqueid="grid-files-header" flexDirection="row" justifyContent="flex-start" alignItems="flex-start" columnGutter="0" rowGutter="0">
			<divisions>
				<division minWidth="100px" ratio="1">
					<components>
						<skuid__text contents="{{Model.labelPlural}}" uniqueid="sk-3Ea8-11522" model="stng__Files" styleSettingsVariant="014b3346-10ed-4578-aa1a-cae68a21cc80"/>
					</components>
				</division>
				<division alignSelf="auto" minWidth="0" ratio="0">
					<components>
						<skuid__file storeAs="multipartformdata" displayAs="filename" uniqueid="fileupload-files-newfile" datasource="SkuidLocal" url="/upload-stream" isMultiUpload="true" enforceMaxFileSize="true" maxFileSize="1000000000" buttonLabel="Upload" styleSettingsVariant="9ee933a8-36c4-4850-bc90-71e5abf31e1b">
							<uploadSuccessActions>
								<action type="showToast" duration="4" styleSettingsVariant="default" message="{{$Result.files.length}} file(s) successfully uploaded"/>
								<action type="emptyModelData">
									<models>
										<model>stng__Files</model>
									</models>
								</action>
								<action type="requeryModels" model="stng__Files" behavior="standard">
									<models>
										<model>stng__Files</model>
									</models>
								</action>
							</uploadSuccessActions>
							<uploadFailureActions>
								<action type="showToast" duration="4" styleSettingsVariant="error" message="Could not upload file: {{$Error.Message}}"/>
							</uploadFailureActions>
							<renderConditions logictype="and">
								<renderCondition type="fieldvalue" enclosevalueinquotes="true" fieldmodel="stng__Files_ui_control" sourcetype="modelproperty" nosourcerowbehavior="deactivate" sourceproperty="hasRows"/>
							</renderConditions>
							<styleVariantConditions/>
						</skuid__file>
					</components>
				</division>
			</divisions>
			<styles>
				<spacing bottom="4"/>
			</styles>
			<background/>
		</skuid__grid>
		<skuid__wrapper uniqueid="sk-3su2-1528" styleSettingsVariant="c5a44cb4-0fb9-4631-a576-a20f998816e0">
			<components>
				<skuid__wrapper uniqueid="sk-376p-18407">
					<components>
						<skuid__grid uniqueid="grid-files-filterset" flexDirection="row" justifyContent="flex-start" alignItems="center" columnGutter="0" rowGutter="0" fullWidth="true">
							<divisions>
								<division alignSelf="auto" minWidth="100px" ratio="1">
									<components/>
								</division>
								<division alignSelf="auto" minWidth="0" ratio="0">
									<components>
										<skuid__text contents="&lt;div style=&quot;text-align: right;&quot;&gt;Order by:&lt;/div&gt;&#10;" uniqueid="sk-Un_-9304">
											<styles>
												<spacing/>
											</styles>
										</skuid__text>
									</components>
								</division>
								<division alignSelf="auto" ratio="0">
									<components>
										<skuid__form showErrorsInline="true" model="page_ui_control" uniqueid="form-files-orderby" mode="edit">
											<styles>
												<spacing right="3" left="2" top="-1"/>
											</styles>
											<columns>
												<column verticalAlign="top" ratio="1">
													<sections>
														<section showHeading="false">
															<fields>
																<skuid__field id="sortby" uniqueid="sk-1gkW-18950" label=" "/>
															</fields>
														</section>
													</sections>
												</column>
											</columns>
										</skuid__form>
									</components>
								</division>
								<division alignSelf="auto" minWidth="0" ratio="0">
									<components>
										<skuid__text contents="&lt;div style=&quot;text-align: right;&quot;&gt;Filter by:&lt;/div&gt;&#10;" uniqueid="sk-1gj--15162">
											<styles>
												<spacing/>
											</styles>
										</skuid__text>
									</components>
								</division>
								<division alignSelf="auto" ratio="0">
									<components>
										<skuid__filterSet model="stng__Files" uniqueid="filterset-files" resetButtonBehavior="hide">
											<filters>
												<skuid__filter type="select" conditionSource="manual" uniqueid="filter-files-type" filterMethod="server" labelMode="manual" conditionName="type" createFilterOffOption="true" filterOffOptionLabel="All Content Types">
													<sources>
														<source type="model" effectsbehavior="justdefault" model="stng_ContentTypes" labeltemplate="{{{content_type}}}" valuetemplate="{{{content_type}}}"/>
													</sources>
												</skuid__filter>
											</filters>
											<filtering enableSearch="true" instantSearch="true" instantFilters="true" searchMethod="server" emptySearchBehavior="query" searchPlaceholder="Search" searchConditionName="search"/>
											<styles>
												<spacing left="2"/>
											</styles>
											<positioning/>
											<sorting enable="false"/>
										</skuid__filterSet>
									</components>
								</division>
							</divisions>
							<interactions/>
							<renderConditions logictype="and"/>
							<styles>
								<spacing bottom="2"/>
							</styles>
							<background/>
						</skuid__grid>
						<skuid__wrapper uniqueid="sk-1x60-11665" styleSettingsVariant="b5342fe9-7125-4bf8-b20b-ade1825d7e72">
							<components/>
							<background/>
							<renderConditions logictype="and"/>
							<styleVariantConditions/>
						</skuid__wrapper>
						<skuid__deck model="stng__Files" showSaveCancel="false" verticalAlign="top" minWidth="100%" uniqueid="deck-files" pageSize="25" setMaxWidth="auto" showListHeader="true">
							<components>
								<skuid__wrapper uniqueid="sk-1x5--9360" styleSettingsVariant="d07add8f-e8b4-4c56-a978-89018954d967">
									<components>
										<skuid__grid uniqueid="sk-1x5--9361" flexDirection="row" justifyContent="flex-start" alignItems="center" columnGutter="2" rowGutter="0">
											<divisions>
												<division minWidth="0" ratio="1" alignSelf="auto">
													<components>
														<skuid__grid uniqueid="sk-3EaT-24934" flexDirection="row" justifyContent="flex-start" alignItems="center">
															<divisions>
																<division minWidth="0" ratio="0" alignSelf="auto">
																	<components>
																		<skuid__image source="url" uniqueid="image-files-type" datasource="SkuidLocal" heightStrategy="fixed" height="" heightCustom="24px" model="stng__Files" url="/assets/images/{{icon_url}}.svg" imageHeight="32px" imageWidth="auto">
																			<conditions>
																				<condition type="contextrow" field="id" mergefield="id" operator="="/>
																			</conditions>
																			<styles>
																				<spacing right="2"/>
																			</styles>
																		</skuid__image>
																	</components>
																</division>
																<division alignSelf="auto" minWidth="0" ratio="1">
																	<components>
																		<skuid__text contents="&lt;span title=&quot;{{{name}}}&quot;&gt;{{name}}&lt;/span&gt;" uniqueid="field-files-name" model="stng__Files" styleSettingsVariant="d052aeb3-48da-41ad-8f36-aa2ed97ab544" allowHtmlInBuilder="true">
																			<renderConditions logictype="and"/>
																			<styleVariantConditions/>
																			<conditions>
																				<condition type="contextrow" field="id" mergefield="id" operator="="/>
																			</conditions>
																			<styles>
																				<spacing right="1" styleSettingsVariant="d052aeb3-48da-41ad-8f36-aa2ed97ab544"/>
																			</styles>
																		</skuid__text>
																		<skuid__grid uniqueid="sk-229G-10153" flexDirection="row" justifyContent="flex-start" alignItems="center" columnGutter="0">
																			<divisions>
																				<division ratio="0" alignSelf="auto" minWidth="0">
																					<components/>
																				</division>
																				<division alignSelf="auto" ratio="0" minWidth="0">
																					<components>
																						<skuid__buttonSet uniqueid="sk-228--9290" model="stng__Files" position="left">
																							<groups>
																								<skuid__buttonGroup displayType="detached">
																									<buttons>
																										<skuid__button uniqueid="button-icon-indicator-public-file" styleSettingsVariant="3cd2ba68-add5-466d-95c9-fb044ddc13ab" icon="sk-webicon-ink:people">
																											<actions/>
																											<tooltip position="top" text="Visible to anyone with the file's URL" compact="false"/>
																											<hotkeys/>
																										</skuid__button>
																									</buttons>
																								</skuid__buttonGroup>
																							</groups>
																							<styles>
																								<spacing/>
																							</styles>
																							<conditions>
																								<condition type="contextrow" field="id" mergefield="id" operator="="/>
																							</conditions>
																							<renderConditions logictype="and"/>
																							<styleVariantConditions/>
																						</skuid__buttonSet>
																					</components>
																					<renderConditions logictype="and">
																						<renderCondition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="stng__Files" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="is_public" value="true"/>
																					</renderConditions>
																				</division>
																			</divisions>
																			<background/>
																			<renderConditions logictype="and">
																				<renderCondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="page_ui_control" sourcetype="fieldvalue" nosourcerowbehavior="deactivate"/>
																			</renderConditions>
																			<styleVariantConditions/>
																		</skuid__grid>
																		<skuid__text contents="&lt;span title=&quot;{{{description}}}&quot;&gt;{{description}}&lt;/span&gt;" uniqueid="field-files-description" model="stng__Files" styleSettingsVariant="6e5bfb86-336c-4340-8cb4-e1fc484d3f6d" allowHtmlInBuilder="true">
																			<renderConditions logictype="and">
																				<renderCondition type="blank" operator="!=" fieldmodel="stng__Files" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="description" fieldtargetobjects="SkuidLocal" value="null" enclosevalueinquotes="false"/>
																			</renderConditions>
																			<styleVariantConditions/>
																			<conditions/>
																		</skuid__text>
																	</components>
																</division>
															</divisions>
															<styles>
																<spacing/>
															</styles>
															<conditions>
																<condition type="contextrow" field="id" mergefield="id" operator="="/>
															</conditions>
															<background/>
														</skuid__grid>
													</components>
													<renderConditions logictype="and"/>
												</division>
												<division alignSelf="auto" ratio="1" minWidth="0">
													<components>
														<skuid__text contents="{{content_type}}" uniqueid="field-files-type" styleSettingsVariant="ef8d4ab0-3722-4e16-903c-ec582c9ca67f" model="stng__Files">
															<renderConditions logictype="and"/>
															<conditions>
																<condition type="contextrow" field="id" mergefield="id" operator="="/>
															</conditions>
															<styleVariantConditions/>
															<styles>
																<spacing/>
															</styles>
														</skuid__text>
													</components>
												</division>
												<division alignSelf="auto" ratio=".5">
													<components>
														<skuid__buttonSet uniqueid="sk-LmH-40724" position="left">
															<groups>
																<skuid__buttonGroup uniqueId="sk-LmH-40722" displayType="attached">
																	<buttons>
																		<skuid__button label="Public" uniqueId="sk-LmH-40723" icon="sk-webicon-ink:world" styleSettingsVariant="1cf2da29-23f0-4b0f-8956-f269885ebff4">
																			<renderConditions logictype="and"/>
																			<enableConditions/>
																			<styleVariantConditions/>
																			<hotkeys/>
																			<tooltip position="top" text="Visible to anyone with the file's URL"/>
																			<actions/>
																		</skuid__button>
																	</buttons>
																</skuid__buttonGroup>
															</groups>
															<styles>
																<spacing left="-1"/>
															</styles>
															<conditions/>
															<renderConditions logictype="and">
																<renderCondition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="stng__Files" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="is_public" fieldtargetobjects="SkuidLocal" value="true"/>
															</renderConditions>
															<styleVariantConditions/>
														</skuid__buttonSet>
														<skuid__buttonSet uniqueid="sk-MMA-118850" position="left">
															<groups>
																<skuid__buttonGroup uniqueId="sk-MMA-118851" displayType="attached">
																	<buttons>
																		<skuid__button label="Private" uniqueId="sk-MMA-118853" icon="sk-webicon-ink:lock" styleSettingsVariant="1cf2da29-23f0-4b0f-8956-f269885ebff4">
																			<renderConditions logictype="and">
																				<renderCondition type="fieldvalue" operator="!=" enclosevalueinquotes="false" fieldmodel="stng__Files" sourcetype="fieldvalue" field="is_public" fieldtargetobjects="SkuidLocal" value="true"/>
																			</renderConditions>
																			<enableConditions/>
																			<styleVariantConditions/>
																			<tooltip position="top" text="Only visible to authenticated users"/>
																		</skuid__button>
																	</buttons>
																</skuid__buttonGroup>
															</groups>
															<styles>
																<spacing/>
															</styles>
														</skuid__buttonSet>
														<skuid__text contents="&lt;div&gt;{{#is_public}}Public{{/is_public}}{{^is_public}}Private{{/is_public}}&lt;/div&gt;&#10;" uniqueid="sk-224c-10303" model="stng__Files" styleSettingsVariant="ef8d4ab0-3722-4e16-903c-ec582c9ca67f">
															<renderConditions logictype="and">
																<renderCondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="page_ui_control" sourcetype="fieldvalue" nosourcerowbehavior="deactivate"/>
															</renderConditions>
															<styleVariantConditions/>
															<conditions>
																<condition type="contextrow" field="id" mergefield="id" operator="="/>
															</conditions>
														</skuid__text>
													</components>
												</division>
												<division alignSelf="auto" minWidth="0" ratio="1">
													<components>
														<skuid__grid uniqueid="sk-1x5--9366" flexDirection="row" justifyContent="flex-start" alignItems="center" columnGutter="1.5" rowGutter="0">
															<divisions>
																<division minWidth="0" ratio="0" alignSelf="auto">
																	<components>
																		<skuid__image source="url" datasource="SkuidLocal" height="" heightCustom="20px" model="stng__Files" url="/api/v1/me/{{updated_by_id}}/avatar/small" styleSettingsVariant="e84637e9-e395-4b14-9707-36f937394df8" heightStrategy="fixed" uniqueid="image-files-user-avatar" imageHeight="24px">
																			<conditions>
																				<condition type="contextrow" field="id" mergefield="id" operator="="/>
																			</conditions>
																			<styles>
																				<spacing/>
																			</styles>
																		</skuid__image>
																	</components>
																</division>
																<division alignSelf="auto" minWidth="0" ratio="0">
																	<components>
																		<skuid__text contents="{{updated_by.name}}" uniqueid="field-files-createdby" model="stng__Files" styleSettingsVariant="bcf356fb-cd9b-4b49-adb6-299b154f243f">
																			<renderConditions logictype="and"/>
																			<styleVariantConditions/>
																			<conditions>
																				<condition type="contextrow" field="id" mergefield="id" operator="="/>
																			</conditions>
																		</skuid__text>
																		<skuid__text contents="{{pretty_update_date}}" uniqueid="field-files-createdat" model="stng__Files" styleSettingsVariant="ef8d4ab0-3722-4e16-903c-ec582c9ca67f">
																			<conditions>
																				<condition type="contextrow" field="id" mergefield="id" operator="="/>
																			</conditions>
																			<renderConditions logictype="and"/>
																			<styleVariantConditions/>
																		</skuid__text>
																	</components>
																</division>
															</divisions>
															<styles>
																<spacing/>
															</styles>
															<background/>
														</skuid__grid>
													</components>
												</division>
												<division alignSelf="auto" minWidth="0" ratio="0">
													<components>
														<skuid__buttonSet model="stng__Files" uniqueid="sk-1x5--9374">
															<groups>
																<skuid__buttonGroup displayType="detached" styleSettingsVariant="a0f480fb-b5f6-42ca-af4e-a46635a70392">
																	<buttons>
																		<skuid__button uniqueid="button-files-list-menuoptions" icon="sk-webicon-ink:dots-vertical" styleSettingsVariant="borderless">
																			<hotkeys/>
																			<renderConditions logictype="and"/>
																			<enableConditions/>
																			<actions>
																				<action type="toggleMenu">
																					<optionGroups>
																						<optionGroup>
																							<options>
																								<option label="Configure">
																									<actions>
																										<action type="action-sequence" action-sequence-id="c864c386-56f6-4d74-a945-fbd898a5e8ed"/>
																									</actions>
																								</option>
																								<option label="Preview">
																									<actions>
																										<action type="redirect" window="blank" url="/static/files/{{{modstamp}}}/{{{name}}}"/>
																									</actions>
																								</option>
																								<option label="Download">
																									<actions>
																										<action type="showModal">
																											<skuid__modal title="Download File" width="640px">
																												<components>
																													<skuid__text contents="&lt;a download=&quot;&quot; href=&quot;/static/files/{{{modstamp}}}/{{{name}}}&quot;&gt;Download {{{name}}} &lt;/a&gt;" uniqueid="sk-3Qq-31019" model="stng__Files" allowHtmlInBuilder="true" styleSettingsVariant="4aef6a0e-2c47-45d8-b041-263daca84f14">
																														<styles>
																															<spacing bottom="3" styleSettingsVariant="4aef6a0e-2c47-45d8-b041-263daca84f14"/>
																														</styles>
																														<renderConditions logictype="and"/>
																														<styleVariantConditions/>
																													</skuid__text>
																												</components>
																											</skuid__modal>
																										</action>
																									</actions>
																								</option>
																								<option label="Delete">
																									<actions>
																										<action type="showModal">
																											<skuid__modal title="Delete file" width="640px">
																												<components>
																													<skuid__wrapper uniqueid="sk-1mvC-41739" styleSettingsVariant="7d5572d7-ec59-43f0-9d03-5259d1980637">
																														<components>
																															<skuid__grid uniqueid="sk-1sWh-27366" flexDirection="row" justifyContent="flex-start" alignItems="flex-start" columnGutter="2" rowGutter="0">
																																<divisions>
																																	<division minWidth="32px" ratio="0" alignSelf="auto" maxWidth="32px">
																																		<components>
																																			<skuid__list model="stng__Files" uniqueid="sk-1sWk-29778" pageSize="Infinity" showPageSizeSelect="false" resetPaginationOnQuery="false" showLoadMore="false" showListHeader="false" showListFooter="false" styleSettingsVariant="cf06b573-0083-4902-aaf4-65950a97bf81">
																																				<columns>
																																					<column uniqueid="sk-1sWk-29779" fillRatio="1">
																																						<items>
																																							<item displayType="image" url="/assets/images/{{icon_url}}.svg"/>
																																						</items>
																																					</column>
																																				</columns>
																																				<rowActions/>
																																				<massActions/>
																																				<filtering enableSearch="false" instantSearch="false"/>
																																				<conditions>
																																					<condition type="contextrow" field="id" mergefield="id" operator="="/>
																																				</conditions>
																																				<styles>
																																					<spacing/>
																																				</styles>
																																			</skuid__list>
																																		</components>
																																	</division>
																																	<division alignSelf="auto" minWidth="0" ratio="1">
																																		<components>
																																			<skuid__text contents="{{name}}" uniqueid="sk-1muQ-19873" styleSettingsVariant="bcf356fb-cd9b-4b49-adb6-299b154f243f" model="stng__Files">
																																				<styles>
																																					<spacing bottom="1" styleSettingsVariant="bcf356fb-cd9b-4b49-adb6-299b154f243f"/>
																																				</styles>
																																				<conditions>
																																					<condition type="contextrow" field="id" mergefield="id" operator="="/>
																																				</conditions>
																																			</skuid__text>
																																			<skuid__text contents="Created {{created_at}} by&amp;nbsp;{{updated_by.name}}" uniqueid="sk-1muT-21127" styleSettingsVariant="ef8d4ab0-3722-4e16-903c-ec582c9ca67f" model="stng__Files">
																																				<styles>
																																					<spacing bottom="0.5" styleSettingsVariant="ef8d4ab0-3722-4e16-903c-ec582c9ca67f"/>
																																				</styles>
																																				<conditions>
																																					<condition type="contextrow" field="id" mergefield="id" operator="="/>
																																				</conditions>
																																			</skuid__text>
																																			<skuid__text contents="Updated {{updated_at}} by&amp;nbsp;{{updated_by.name}}" uniqueid="sk-2R---11514" styleSettingsVariant="ef8d4ab0-3722-4e16-903c-ec582c9ca67f" model="stng__Files">
																																				<styles>
																																					<spacing bottom="0.5" styleSettingsVariant="ef8d4ab0-3722-4e16-903c-ec582c9ca67f"/>
																																				</styles>
																																				<conditions>
																																					<condition type="contextrow" field="id" mergefield="id" operator="="/>
																																				</conditions>
																																			</skuid__text>
																																		</components>
																																	</division>
																																</divisions>
																															</skuid__grid>
																														</components>
																														<background/>
																														<styles>
																															<spacing bottom="3"/>
																														</styles>
																													</skuid__wrapper>
																													<skuid__text contents="Are you sure you want to permanently delete this file? &lt;strong&gt;You can&amp;#39;t undo this&lt;/strong&gt;." uniqueid="sk-1ulC-23447">
																														<renderConditions logictype="and"/>
																														<styleVariantConditions/>
																														<styles>
																															<spacing/>
																														</styles>
																													</skuid__text>
																												</components>
																												<buttons>
																													<skuid__button label="Yes, delete this file" uniqueid="button-files-list-delete-confirm" styleSettingsVariant="destructive">
																														<actions>
																															<action type="markRowsForDeletion" model="stng__Files" affectedrows="context"/>
																															<action type="save">
																																<models>
																																	<model>stng__Files</model>
																																</models>
																															</action>
																															<action type="closeModals" closebehavior="topmost"/>
																															<action type="showToast" duration="4" styleSettingsVariant="default" message="File deleted"/>
																														</actions>
																													</skuid__button>
																													<skuid__button label="Cancel" uniqueid="button-files-list-delete-cancel">
																														<actions>
																															<action type="closeModals" closebehavior="topmost"/>
																														</actions>
																													</skuid__button>
																												</buttons>
																												<afterCloseActions>
																													<action type="toggleRenderComponent" behavior="show" componentid="fileupload-files-newfile"/>
																												</afterCloseActions>
																											</skuid__modal>
																										</action>
																										<action type="toggleRenderComponent" behavior="hide" componentid="fileupload-files-newfile"/>
																									</actions>
																								</option>
																							</options>
																						</optionGroup>
																					</optionGroups>
																				</action>
																			</actions>
																			<styleVariantConditions/>
																		</skuid__button>
																	</buttons>
																</skuid__buttonGroup>
															</groups>
															<conditions>
																<condition type="contextrow" field="id" mergefield="id" operator="="/>
															</conditions>
															<renderConditions logictype="and"/>
															<styleVariantConditions/>
														</skuid__buttonSet>
													</components>
												</division>
											</divisions>
											<background/>
											<styles>
												<spacing/>
											</styles>
										</skuid__grid>
									</components>
									<background/>
									<styles>
										<spacing/>
									</styles>
								</skuid__wrapper>
							</components>
							<filtering enableSearch="false" instantSearch="false"/>
							<interactions>
								<interaction type="tap">
									<action type="action-sequence" action-sequence-id="c864c386-56f6-4d74-a945-fbd898a5e8ed"/>
								</interaction>
							</interactions>
							<sorting enable="false"/>
						</skuid__deck>
					</components>
					<background/>
					<renderConditions logictype="and">
						<renderCondition type="fieldvalue" enclosevalueinquotes="true" fieldmodel="stng__Files_ui_control" sourcetype="modelproperty" nosourcerowbehavior="deactivate" sourceproperty="hasRows"/>
					</renderConditions>
					<styles>
						<spacing/>
					</styles>
				</skuid__wrapper>
				<skuid__grid uniqueid="grid-files-blankstate" flexDirection="row" justifyContent="flex-start" alignItems="flex-start" columnGutter="0" rowGutter="0">
					<divisions>
						<division minWidth="4px" ratio="1" alignSelf="auto">
							<components/>
						</division>
						<division alignSelf="auto" minWidth="100px" ratio="1" maxWidth="400px">
							<components>
								<skuid__wrapper uniqueid="sk-JNG-13106">
									<components>
										<skuid__grid uniqueid="sk-JNV-15963" flexDirection="row" justifyContent="flex-start" alignItems="flex-start" columnGutter="0" rowGutter="0">
											<divisions>
												<division minWidth="4px" ratio="1" alignSelf="auto">
													<components/>
												</division>
												<division alignSelf="auto" minWidth="136px" ratio="1" maxWidth="136px">
													<components>
														<skuid__image source="url" uniqueid="sk-n6J-19180" url="/assets/images/page.svg">
															<interactions/>
															<styles>
																<spacing/>
															</styles>
															<renderConditions logictype="and"/>
														</skuid__image>
													</components>
												</division>
												<division alignSelf="auto" minWidth="4px" ratio="1">
													<components/>
												</division>
											</divisions>
											<renderConditions logictype="and"/>
										</skuid__grid>
										<skuid__text contents="&lt;div style=&quot;text-align: center;&quot;&gt;You haven&amp;#39;t uploaded any files&lt;/div&gt;&#10;" uniqueid="sk-JNh-18188" styleSettingsVariant="medium">
											<styles>
												<spacing bottom="3" top="0.5"/>
											</styles>
											<renderConditions logictype="and"/>
										</skuid__text>
										<skuid__text contents="&lt;div style=&quot;text-align: center;&quot;&gt;Uploaded &lt;a href=&quot;https://docs.skuid.com/latest/en/skuid-platform/navigating-skuid-platform.html#files&quot; target=&quot;_blank&quot;&gt;static files&lt;/a&gt;&amp;mdash;which can include images, Javascript snippets, or CSS libraries&amp;mdash;can be used in Skuid, and selected as a property for certain components, such as the Image and Wrapper components. &amp;nbsp;&lt;/div&gt;&#10;" uniqueid="sk-2tCZ-31090" styleSettingsVariant="3a6edd33-1e04-41cc-8dc9-a5c9c2a73607">
											<styles>
												<spacing bottom="4"/>
											</styles>
										</skuid__text>
										<skuid__grid uniqueid="sk-Und-5936" flexDirection="row" justifyContent="flex-start" alignItems="flex-start" columnGutter="0" rowGutter="0">
											<divisions>
												<division minWidth="2px" ratio="1" alignSelf="auto">
													<components/>
												</division>
												<division alignSelf="auto" minWidth="0" ratio="0">
													<components>
														<skuid__file storeAs="multipartformdata" displayAs="filename" uniqueid="fileupload-files-newfile-blankstate" datasource="SkuidLocal" url="/upload-stream" isMultiUpload="true" enforceMaxFileSize="true" maxFileSize="1000000000" buttonLabel="Upload" styleSettingsVariant="17951d77-94af-485a-8892-03516e96472d">
															<styles>
																<spacing/>
															</styles>
															<uploadSuccessActions>
																<action type="showToast" duration="4" styleSettingsVariant="default" message="{{$Result.files.length}} file(s) successfully uploaded"/>
																<action type="requeryModels" model="stng__Files" behavior="standard">
																	<models>
																		<model>stng__Files_ui_control</model>
																		<model>stng__Files</model>
																	</models>
																</action>
															</uploadSuccessActions>
															<uploadFailureActions>
																<action type="showToast" duration="4" styleSettingsVariant="error" message="Could not upload file: {{$Error.Message}}"/>
															</uploadFailureActions>
														</skuid__file>
													</components>
												</division>
												<division alignSelf="auto" minWidth="2px" ratio="1">
													<components/>
												</division>
											</divisions>
											<styles>
												<spacing bottom="3"/>
											</styles>
										</skuid__grid>
									</components>
									<background/>
									<renderConditions logictype="and"/>
									<styles>
										<spacing top="6" bottom="6"/>
									</styles>
								</skuid__wrapper>
							</components>
						</division>
						<division alignSelf="auto" minWidth="4px" ratio="1">
							<components/>
						</division>
					</divisions>
					<renderConditions logictype="and">
						<renderCondition fieldmodel="stng__Files_ui_control" sourcetype="modelproperty" nosourcerowbehavior="deactivate" sourceproperty="hasNoRows"/>
					</renderConditions>
				</skuid__grid>
			</components>
			<background/>
		</skuid__wrapper>
		<skuid__wrapper uniqueid="sk-2TO8-11969" heightStrategy="fixed" height="custom" heightCustom="500px">
			<components/>
			<styles>
				<spacing/>
			</styles>
			<background/>
		</skuid__wrapper>
	</components>
	<resources>
		<labels/>
		<javascript/>
		<actionsequences>
			<actionsequence id="c864c386-56f6-4d74-a945-fbd898a5e8ed" label="Configure File" type="reusable">
				<description/>
				<actions>
					<action type="updateRow" fieldmodel="stng__Files" affectedrows="context">
						<updates>
							<update valuesource="formula" field="is_public_ui" enclosevalueinquotes="true" value="Private">
								<formula>IF({{is_public}}, "Public", "Private")</formula>
							</update>
						</updates>
					</action>
					<action type="save">
						<models>
							<model>stng__Files</model>
						</models>
					</action>
					<action type="showModal">
						<skuid__modal title="Configure File" width="640px">
							<components>
								<skuid__form showErrorsInline="true" model="stng__Files" uniqueid="form-files-list-configure" mode="edit">
									<conditions/>
									<columns>
										<column verticalAlign="top" ratio="1">
											<sections>
												<section showHeading="false">
													<fields>
														<skuid__field id="name" uniqueid="field-files-name" showHelp="true"/>
														<skuid__field id="description" uniqueid="field-files-description" showHelp="true"/>
														<skuid__field id="is_public_ui" displayAs="BUTTON_GROUP" showHelp="false"/>
													</fields>
												</section>
											</sections>
										</column>
									</columns>
								</skuid__form>
								<skuid__grid uniqueid="sk-265i-10086" flexDirection="row" justifyContent="flex-start" alignItems="flex-start">
									<divisions>
										<division alignSelf="auto" minWidth="100px" ratio="1">
											<components>
												<skuid__text contents="This file is only visible to authenticated users." uniqueid="sk-265l-11440"/>
											</components>
										</division>
									</divisions>
									<renderConditions logictype="and">
										<renderCondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="stng__Files" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="is_public_ui" fieldtargetobjects="SkuidLocal" value="Private"/>
										<renderCondition type="fieldvalue" operator="=" fieldmodel="stng__Files" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="is_public" fieldtargetobjects="SkuidLocal" value="false" enclosevalueinquotes="false"/>
									</renderConditions>
									<styleVariantConditions/>
									<styles>
										<spacing top="1.5"/>
									</styles>
								</skuid__grid>
								<skuid__grid uniqueid="sk-27Fy-11415" flexDirection="row" justifyContent="flex-start" alignItems="flex-start">
									<divisions>
										<division alignSelf="auto" minWidth="100px" ratio="1">
											<components>
												<skuid__text contents="This file will only be visible to authenticated users." uniqueid="sk-27Fy-11416"/>
											</components>
										</division>
									</divisions>
									<renderConditions logictype="and">
										<renderCondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="stng__Files" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="is_public_ui" fieldtargetobjects="SkuidLocal" value="Private"/>
										<renderCondition type="fieldvalue" operator="=" fieldmodel="stng__Files" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="is_public" fieldtargetobjects="SkuidLocal" value="true" enclosevalueinquotes="false"/>
									</renderConditions>
									<styleVariantConditions/>
									<styles>
										<spacing top="1.5"/>
									</styles>
								</skuid__grid>
								<skuid__grid uniqueid="sk-266E-22475" flexDirection="row" justifyContent="flex-start" alignItems="center" columnGutter="1">
									<divisions>
										<division alignSelf="auto" minWidth="100px" ratio="1">
											<components>
												<skuid__text contents="This file is visible to anyone with the URL." uniqueid="sk-266E-22476"/>
											</components>
										</division>
									</divisions>
									<renderConditions logictype="and">
										<renderCondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="stng__Files" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="is_public_ui" fieldtargetobjects="SkuidLocal" value="Public"/>
										<renderCondition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="stng__Files" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="is_public" fieldtargetobjects="SkuidLocal" value="true"/>
									</renderConditions>
									<styleVariantConditions/>
									<styles>
										<spacing top="1.5"/>
									</styles>
								</skuid__grid>
								<skuid__grid uniqueid="sk-27Fz-11681" flexDirection="row" justifyContent="flex-start" alignItems="center" columnGutter="1">
									<divisions>
										<division alignSelf="auto" minWidth="100px" ratio="1">
											<components>
												<skuid__text contents="This file will be visible to anyone with the URL." uniqueid="sk-27Fz-11682"/>
											</components>
										</division>
									</divisions>
									<renderConditions logictype="and">
										<renderCondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="stng__Files" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="is_public_ui" fieldtargetobjects="SkuidLocal" value="Public"/>
										<renderCondition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="stng__Files" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="is_public" fieldtargetobjects="SkuidLocal" value="false"/>
									</renderConditions>
									<styleVariantConditions/>
									<styles>
										<spacing top="1.5"/>
									</styles>
								</skuid__grid>
							</components>
							<buttons>
								<skuid__button label="Save" uniqueid="button-files-list-configure-save" styleSettingsVariant="primary">
									<actions>
										<action type="blockUI" message="Saving changes..." styleSettingsVariant="dark" showPlaceholder="true"/>
										<action type="updateRow" fieldmodel="stng__Files" affectedrows="context">
											<updates>
												<update valuesource="formula" field="is_public" enclosevalueinquotes="true" value="true">
													<formula>IF({{is_public_ui}}==="Public",true,false)</formula>
												</update>
											</updates>
										</action>
										<action type="save">
											<models>
												<model>stng__Files</model>
											</models>
											<onerroractions>
												<action type="blockUI" message="There was an error" timeout="3000"/>
											</onerroractions>
										</action>
										<action type="closeAllPopups"/>
										<action type="unblockUI"/>
										<action type="showToast" duration="4" styleSettingsVariant="default" message="Changes saved"/>
									</actions>
									<enableConditions logictype="and">
										<condition type="fieldvalue" enclosevalueinquotes="false" fieldmodel="stng__Files" sourcetype="modelproperty" nosourcerowbehavior="deactivate" sourceproperty="hasChanged" value="true" operator="="/>
									</enableConditions>
								</skuid__button>
								<skuid__button label="Cancel" uniqueid="button-files-list-configure-cancel">
									<actions>
										<action type="cancel">
											<models>
												<model>stng__Files</model>
											</models>
										</action>
										<action type="closeTopmostPopup"/>
									</actions>
								</skuid__button>
							</buttons>
							<afterCloseActions>
								<action type="cancel">
									<models>
										<model>stng__Files</model>
									</models>
								</action>
							</afterCloseActions>
						</skuid__modal>
					</action>
				</actions>
			</actionsequence>
		</actionsequences>
	</resources>
</skuid__page>

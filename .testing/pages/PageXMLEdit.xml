<skuid__page unsavedchangeswarning="yes" hideeditbutton="true" title="{{#$Model.page.data}}{{name}}{{/$Model.page.data}}" theme="Skuid App">
	<models>
		<model id="page" limit="1" query="true" createrowifnonefound="false" processonclient="true" datasource="SkuidLocal" type="readwrite" label="Page" labelplural="Pages" namefield="name">
			<fields>
				<field id="content" displaytype="TEXTAREA"/>
				<field id="name" displaytype="TEXT" length="255" required="true"/>
				<field id="id" displaytype="TEXT" readonly="true"/>
			</fields>
			<conditions>
				<condition type="param" field="id" enclosevalueinquotes="true" sourcetype="param" sourceparam="pageid" value="id"/>
			</conditions>
			<idfields>
				<field>id</field>
			</idfields>
			<actions/>
			<methods>
				<method type="query" verb="GET" endpoint="/objects/page/{{pageid}}"/>
				<method type="update" verb="PATCH" successif="requestsucceeds" sendchanges="asjsoninbody" endpoint="/objects/page/{{id}}"/>
				<method type="delete" verb="DELETE" endpoint="/objects/page/{{id}}" successif="requestsucceeds"/>
			</methods>
		</model>
		<model id="UIControl" limit="20" query="true" datasource="Ui-Only" createrowifnonefound="true">
			<fields>
				<field id="isXMLValid" displaytype="BOOLEAN" length="255" ogdisplaytype="TEXT" defaultvaluetype="fieldvalue" defaultValue="true"/>
			</fields>
			<conditions/>
			<actions/>
		</model>
	</models>
	<components/>
	<pageregioncontents>
		<pageregioncontent regionid="sk-2w1w-1416" uniqueid="sk-2nP3cm-32">
			<components>
				<skuid__header uniqueid="sk-2rE7LK-86" model="page" title="Edit Page XML - {{name}}" subtitle="">
					<skuid__buttonSet>
						<groups>
							<skuid__buttonGroup displayType="detached">
								<buttons>
									<skuid__button uniqueid="sk-329Y34-635" styleSettingsVariant="destructive" label="Invalid XML">
										<renderConditions logictype="and">
											<renderCondition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="UIControl" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="isXMLValid" value="false"/>
										</renderConditions>
										<enableConditions logictype="and"/>
										<styleVariantConditions/>
										<styles>
											<spacing/>
										</styles>
										<tooltip position="top" text="The XML is not valid. You will not be able to save any changes until the XML is valid."/>
										<actions>
											<action type="showToast" duration="2" styleSettingsVariant="default" message="Invalid XML" clickToDismiss="true"/>
										</actions>
									</skuid__button>
								</buttons>
							</skuid__buttonGroup>
							<skuid__buttonGroup displayType="detached">
								<buttons>
									<skuid__button uniqueid="sk-329Y34-635" styleSettingsVariant="utility" label="Edit in Page Composer">
										<actions>
											<action type="redirect" window="self" url="/ui/page/compose/{{{id}}}"/>
										</actions>
									</skuid__button>
								</buttons>
							</skuid__buttonGroup>
							<skuid__buttonGroup displayType="detached" maxSelected="Infinity">
								<buttons>
									<skuid__button uniqueid="previewButton" label="Preview">
										<actions>
											<action type="custom" snippet="preview"/>
										</actions>
										<hotkeys>
											<hotkey modifiers="ctrl" key="p"/>
											<hotkey modifiers="meta" key="p"/>
										</hotkeys>
									</skuid__button>
								</buttons>
							</skuid__buttonGroup>
							<skuid__buttonGroup displayType="detached" maxSelected="Infinity">
								<buttons>
									<skuid__button uniqueid="sk-29Y9-635" styleSettingsVariant="primary" label="{{$Label.save}}">
										<actions>
											<action type="save">
												<models>
													<model>page</model>
												</models>
												<onerroractions>
													<action type="blockUI" message="There was an error" timeout="3000"/>
												</onerroractions>
											</action>
											<action type="showToast" duration="4" styleSettingsVariant="default" message="Saved" clickToDismiss="true"/>
										</actions>
										<renderConditions logictype="and"/>
										<enableConditions logictype="and">
											<condition type="fieldvalue" enclosevalueinquotes="false" fieldmodel="page" sourcetype="modelproperty" fieldtargetobjects="SkuidLocal" sourceproperty="hasChanged" value="true" operator="="/>
											<condition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="UIControl" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="isXMLValid" value="true"/>
										</enableConditions>
										<styleVariantConditions/>
										<hotkeys>
											<hotkey modifiers="ctrl" key="s"/>
											<hotkey modifiers="meta" key="s"/>
										</hotkeys>
									</skuid__button>
									<skuid__button uniqueid="sk-29Y9-635" label="{{$Label.cancel}}">
										<actions>
											<action type="cancel">
												<models>
													<model>page</model>
												</models>
											</action>
										</actions>
										<renderConditions logictype="and"/>
										<enableConditions logictype="and">
											<condition type="fieldvalue" enclosevalueinquotes="false" fieldmodel="page" sourcetype="modelproperty" sourceproperty="hasChanged" value="true" operator="="/>
											<condition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="UIControl" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="isXMLValid" value="true"/>
										</enableConditions>
										<styleVariantConditions/>
									</skuid__button>
								</buttons>
							</skuid__buttonGroup>
						</groups>
					</skuid__buttonSet>
					<styles>
						<spacing top="2" left="1" right="1"/>
					</styles>
				</skuid__header>
				<skuidbuilder__code mode="edit" uniqueid="xmlCodeEditor" language="xml">
					<styles>
						<spacing top="2" right="1" left="1"/>
					</styles>
				</skuidbuilder__code>
				<skuid__text contents="&lt;div style=&quot;text-align: right;&quot;&gt;&lt;a href=&quot;/ui/page/compose/{{{id}}}&quot;&gt;View/Edit in Page Composer&lt;/a&gt;&lt;/div&gt;&#xA;" uniqueid="sk-29up-3729" model="page">
					<styles>
						<spacing top="1" styleSettingsVariant="medium" left="1" right="1"/>
					</styles>
					<renderConditions logictype="and">
						<renderCondition type="fieldvalue" enclosevalueinquotes="false" fieldmodel="page" sourcetype="modelproperty" nosourcerowbehavior="deactivate" sourceproperty="hasChanged" value="false" operator="="/>
					</renderConditions>
					<styleVariantConditions/>
				</skuid__text>
				<skuid__text contents="&lt;div style=&quot;text-align: right; text-decoration: underline&quot;&gt;View/Edit in Page Composer&lt;/div&gt;&#xA;" uniqueid="sk-29yq-7608" model="page">
					<styles>
						<spacing top="1" styleSettingsVariant="medium" left="1" right="1"/>
					</styles>
					<renderConditions logictype="and">
						<renderCondition type="fieldvalue" enclosevalueinquotes="false" fieldmodel="page" sourcetype="modelproperty" nosourcerowbehavior="deactivate" sourceproperty="hasChanged" value="true" operator="="/>
					</renderConditions>
					<styleVariantConditions/>
				</skuid__text>
			</components>
		</pageregioncontent>
	</pageregioncontents>
	<resources>
		<javascript>
			<jsitem location="staticresource" namespace="skuid" filepath="js/skuidPages/skuidPageXMLEdit.js" scope="api"/>
		</javascript>
		<labels/>
		<actionsequences/>
	</resources>
</skuid__page>

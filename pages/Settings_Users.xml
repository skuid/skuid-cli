<skuid__page personalizationmode="client" unsavedchangeswarning="yes" showsidebar="true" showheader="true" theme="Skuid Admin">
	<models>
		<model id="page_ui_control" query="true" createrowifnonefound="true" datasource="Ui-Only">
			<fields>
				<field id="sortby" displaytype="PICKLIST" ogdisplaytype="TEXT" picklistsource="manual" returntype="TEXT" defaultvaluetype="fieldvalue" defaultValue="first_name">
					<picklistentries>
						<entry value="last_name" label="Last Name A-Z"/>
						<entry value="first_name" label="First Name A-Z"/>
						<entry value="-updated_at" label="Last Updated"/>
					</picklistentries>
				</field>
				<field id="user_view" displaytype="PICKLIST" length="255" ogdisplaytype="TEXT" precision="9" scale="2" picklistsource="manual" returntype="TEXT" required="false" defaultvaluetype="fieldvalue" defaultValue="List">
					<picklistentries>
						<entry value="List" label="View"/>
						<entry value="Table" label="Edit"/>
					</picklistentries>
				</field>
			</fields>
			<conditions/>
			<actions>
				<action>
					<actions>
						<action type="requeryModel" model="stng__Users" behavior="standard"/>
					</actions>
					<events>
						<event>row.updated</event>
					</events>
					<fields>
						<field>sortby</field>
					</fields>
				</action>
			</actions>
		</model>
		<model id="FeatureFlags" limit="20" query="true" createrowifnonefound="true" datasource="Ui-Only">
			<fields>
				<field id="appPermSetsEnabled" displaytype="BOOLEAN" length="255" ogdisplaytype="TEXT"/>
			</fields>
			<conditions/>
			<actions/>
		</model>
		<model id="stng__Users" limit="20" query="false" createrowifnonefound="false" datasource="SkuidLocal" type="readwrite" label="User" labelplural="Users" unloadwarningifunsavedchanges="true">
			<fields>
				<field id="creation_method" label="Creation Method" displaytype="PICKLIST" accessible="true" filterable="true" required="true" createable="true" editable="false" picklistsource="manual" defaultvaluetype="fieldvalue" defaultValue="internal" enclosevalueinquotes="true" returntype="TEXT">
					<picklistentries>
						<entry value="internal" label="Manual"/>
						<entry value="sso-jit-provisioning" label="Single Sign On"/>
						<entry value="signup-api" label="Signup API"/>
						<entry value="import" label="Import"/>
					</picklistentries>
				</field>
				<field id="email" label="Email" displaytype="EMAIL" accessible="true" filterable="true" required="true" length="255"/>
				<field id="first_name" label="First Name" displaytype="TEXT" accessible="true" filterable="true" length="255"/>
				<field id="id" label="Id" displaytype="TEXT" readonly="true" accessible="true" filterable="true"/>
				<field id="last_name" label="Last Name" displaytype="TEXT" accessible="true" filterable="true" required="true" length="255"/>
				<field id="username" label="Username" displaytype="TEXT" accessible="true" filterable="true" required="true" length="255"/>
				<field id="type" label="Type" displaytype="PICKLIST" accessible="true" filterable="true" defaultValue="FULL" required="false" picklistsource="rowsinmodel" picklistmodel="stng__NoPublicLicenseType" entryvalue="{{type}}" entrylabel="{{type}}" returntype="TEXT"/>
				<field id="federation_id" label="Federation Id" displaytype="TEXT" accessible="true" filterable="true"/>
				<field id="active" label="Active" displaytype="BOOLEAN" accessible="true" filterable="true" defaultvaluetype="fieldvalue" defaultValue="true" ogdisplaytype="BOOLEAN" picklistsource="manual" returntype="BOOLEAN">
					<picklistentries>
						<entry value="true" label="Active"/>
						<entry value="false" label="Inactive"/>
					</picklistentries>
				</field>
				<field id="locked_out" label="Locked" displaytype="BOOLEAN" accessible="true" filterable="true" defaultvaluetype="fieldvalue" defaultValue="false"/>
				<field id="profile_id" label="Profile" displaytype="PICKLIST" accessible="true" filterable="true" ogdisplaytype="TEXT" picklistsource="rowsinmodel" picklistmodel="stng__NonPublicUserProfiles" entryvalue="{{id}}" entrylabel="{{name}}" defaultvaluetype="fieldvalue" required="true" returntype="TEXT"/>
				<field id="profile.name" label="Name" displaytype="STRING" accessible="true" filterable="true"/>
				<field id="language" label="Language" displaytype="PICKLIST" accessible="true" filterable="true" readonly="true" picklistsource="rowsinmodel" picklistmodel="stng__LanguageOptions" entryvalue="{{{value}}}" entrylabel="{{label}}" defaultvaluetype="fieldvalue" defaultValue="en"/>
				<field id="locale" label="Locale" displaytype="PICKLIST" accessible="true" filterable="true" required="true" picklistsource="rowsinmodel" picklistmodel="stng__LocaleOptions" entryvalue="{{{value}}}" entrylabel="{{label}}" defaultvaluetype="fieldvalue" defaultValue="en"/>
				<field id="time_zone" label="Time Zone" displaytype="PICKLIST" accessible="true" filterable="true" required="true" picklistsource="rowsinmodel" picklistmodel="stng__TimeZoneOptions" entryvalue="{{{value}}}" entrylabel="{{label}}" defaultvaluetype="fieldvalue" defaultValue="America/New_York"/>
				<field id="updated_at" label="Last Modified" displaytype="DATETIME"/>
				<field id="created_at" label="Created" displaytype="DATETIME"/>
				<field id="created_by_id" label="Created By" displaytype="TEXT" accessible="true" filterable="true"/>
				<field id="updated_by_id" label="Last Modified By" displaytype="TEXT" accessible="true" filterable="true"/>
				<field id="created_by.name" label="Created By" displaytype="TEXT" accessible="true" filterable="true"/>
				<field id="updated_by.name" label="Last Modified By" displaytype="TEXT" accessible="true" filterable="true"/>
			</fields>
			<idfields>
				<field>id</field>
			</idfields>
			<conditions>
				<condition type="fieldvalue" value="" enclosevalueinquotes="true" sourcetype="param" sourceparam="CreationMethod" state="filterableoff" inactive="true" name="CreationMethod"/>
				<condition type="fieldvalue" value="" enclosevalueinquotes="true" sourcetype="param" sourceparam="UserType" state="filterableoff" inactive="true" name="UserType"/>
				<condition type="fieldvalue" value="" enclosevalueinquotes="true" sourcetype="param" sourceparam="UserProfile" state="filterableoff" inactive="true" name="UserProfile"/>
				<condition type="fieldvalue" value="" enclosevalueinquotes="true" sourcetype="param" sourceparam="ActiveUser" state="filterableoff" inactive="true" name="ActiveUser"/>
				<condition type="fieldvalue" value="" sourcetype="param" sourceparam="search" operator="=" mergefield="sortby" novaluebehavior="deactivate" state="filterableoff" inactive="true" name="search" enclosevalueinquotes="true"/>
				<condition type="modelmerge" value="" sourcetype="param" sourceparam="sortby" inactive="false" operator="=" model="page_ui_control" enclosevalueinquotes="true" mergefield="sortby" novaluebehavior="deactivate"/>
			</conditions>
			<actions>
				<action>
					<actions>
						<action type="requeryModel" model="stng__Users" behavior="standard"/>
					</actions>
					<events>
						<event>models.saved</event>
					</events>
				</action>
				<action>
					<actions>
						<action type="branch" whenfinished="continue" label="create row if not exist">
							<formula>{{$Model.FiltersApplied.data.length}} == 0</formula>
							<iftrueactions>
								<action type="createRow" model="FiltersApplied" appendorprepend="prepend" defaultmodefornewitems="edit" affectedrows="context"/>
							</iftrueactions>
						</action>
						<action type="updateRow" fieldmodel="FiltersApplied" affectedrows="context">
							<updates>
								<update valuesource="formula" field="ActiveUserFilter" enclosevalueinquotes="true" value="Active">
									<formula>IF({{$Model.stng__Users.conditions.3.value}}== "true", "Active", "Inactive")</formula>
								</update>
							</updates>
						</action>
					</actions>
					<events>
						<event>condition.valueChanged</event>
					</events>
					<conditions>
						<condition>ActiveUser</condition>
					</conditions>
				</action>
				<action>
					<actions>
						<action type="updateRow" fieldmodel="FiltersApplied" affectedrows="context">
							<updates>
								<update valuesource="blank" field="ActiveUserFilter" enclosevalueinquotes="true"/>
							</updates>
						</action>
					</actions>
					<events>
						<event>condition.deactivated</event>
					</events>
					<conditions>
						<condition>ActiveUser</condition>
					</conditions>
				</action>
				<action>
					<actions>
						<action type="branch" whenfinished="continue" label="if model has no row, create it">
							<formula>{{$Model.FiltersApplied.data.length}} == 0</formula>
							<iftrueactions>
								<action type="createRow" model="FiltersApplied" appendorprepend="prepend" defaultmodefornewitems="edit" affectedrows="context"/>
							</iftrueactions>
						</action>
						<action type="updateRow" fieldmodel="FiltersApplied" affectedrows="context">
							<updates>
								<update valuesource="formula" field="UserProfileFilter" enclosevalueinquotes="true">
									<formula>{{$Model.stng__Users.conditions.2.value}}</formula>
								</update>
							</updates>
						</action>
					</actions>
					<events>
						<event>condition.valueChanged</event>
					</events>
					<conditions>
						<condition>UserProfile</condition>
					</conditions>
				</action>
				<action>
					<actions>
						<action type="updateRow" fieldmodel="FiltersApplied" affectedrows="context">
							<updates>
								<update valuesource="blank" field="UserProfileFilter" enclosevalueinquotes="true"/>
							</updates>
						</action>
					</actions>
					<events>
						<event>condition.deactivated</event>
					</events>
					<conditions>
						<condition>UserProfile</condition>
					</conditions>
				</action>
				<action>
					<actions>
						<action type="branch" whenfinished="continue" label="create row if not exist">
							<formula>{{$Model.FiltersApplied.data.length}} == 0</formula>
							<iftrueactions>
								<action type="createRow" model="FiltersApplied" appendorprepend="prepend" defaultmodefornewitems="edit" affectedrows="context"/>
							</iftrueactions>
						</action>
						<action type="updateRow" fieldmodel="FiltersApplied" affectedrows="context">
							<updates>
								<update valuesource="formula" field="UserTypeFilter" enclosevalueinquotes="true">
									<formula>{{$Model.stng__Users.conditions.1.value}}</formula>
								</update>
							</updates>
						</action>
					</actions>
					<events>
						<event>condition.valueChanged</event>
					</events>
					<conditions>
						<condition>UserType</condition>
					</conditions>
				</action>
				<action>
					<actions>
						<action type="updateRow" fieldmodel="FiltersApplied" affectedrows="context">
							<updates>
								<update valuesource="blank" field="UserTypeFilter" enclosevalueinquotes="true"/>
							</updates>
						</action>
					</actions>
					<events>
						<event>condition.deactivated</event>
					</events>
					<conditions>
						<condition>UserType</condition>
					</conditions>
				</action>
				<action>
					<actions>
						<action type="branch" whenfinished="continue" label="create row if not exist">
							<formula>{{$Model.FiltersApplied.data.length}} == 0</formula>
							<iftrueactions>
								<action type="createRow" model="FiltersApplied" appendorprepend="prepend" defaultmodefornewitems="edit" affectedrows="context"/>
							</iftrueactions>
						</action>
						<action type="updateRow" fieldmodel="FiltersApplied" affectedrows="context">
							<updates>
								<update valuesource="formula" field="CreationMethodFilter" enclosevalueinquotes="true">
									<formula>{{$Model.stng__Users.conditions.0.value}}</formula>
								</update>
							</updates>
						</action>
					</actions>
					<events>
						<event>condition.valueChanged</event>
					</events>
					<conditions>
						<condition>CreationMethod</condition>
					</conditions>
				</action>
				<action>
					<actions>
						<action type="updateRow" fieldmodel="FiltersApplied" affectedrows="context">
							<updates>
								<update valuesource="blank" field="CreationMethodFilter" enclosevalueinquotes="true"/>
							</updates>
						</action>
					</actions>
					<events>
						<event>condition.deactivated</event>
					</events>
					<conditions>
						<condition>CreationMethod</condition>
					</conditions>
				</action>
			</actions>
			<methods>
				<method type="query" verb="GET" payloadcontenttype="JSON" limitmethod="simple" simplerecordslimitparameter="limit" limit="100" paginationmethod="simple" offsetparameter="offset" endpoint="/objects/user?order={{sortby}}&amp;fields=id,last_name,first_name,email,username,locale,time_zone,type,federation_id,active,locked_out,creation_method,profile_id,profile.name,updated_at,updated_by_id,updated_by.first_name,updated_by.last_name,created_at,created_by_id,created_by.first_name,created_by.last_name{{#search}}&amp;search={{.}}{{/search}}&amp;whereNot={ &quot;type&quot;:&quot;PUBLIC&quot; }&amp;where={ {{#UserProfile}}&quot;profile_id&quot;:&quot;{{UserProfile}}&quot;{{#ActiveUser}},{{/ActiveUser}}{{^ActiveUser}}{{#CreationMethod}},{{/CreationMethod}}{{^CreationMethod}}{{#UserType}},{{/UserType}}{{/CreationMethod}}{{/ActiveUser}}{{/UserProfile}}{{#ActiveUser}}&quot;active&quot;:{{ActiveUser}}{{#CreationMethod}},{{/CreationMethod}}{{^CreationMethod}}{{#UserType}},{{/UserType}}{{/CreationMethod}}{{/ActiveUser}}{{#CreationMethod}}&quot;creation_method&quot;:&quot;{{CreationMethod}}&quot;{{#UserType}},{{/UserType}}{{/CreationMethod}}{{#UserType}}&quot;type&quot;:&quot;{{UserType}}&quot;{{/UserType}} }"/>
				<method type="insert" verb="POST" successif="requestsucceeds" sendchanges="asjsoninbody" insertresponse="recordinbody" endpoint="/objects/user"/>
				<method type="update" verb="PUT" endpoint="/objects/user/{{id}}" successif="requestsucceeds" sendchanges="asjsoninbody" updateresponse="recordinbody"/>
				<method type="delete" verb="DELETE" endpoint="/objects/user/{{id}}" successif="requestsucceeds"/>
			</methods>
		</model>
		<model id="stng__NonPublicUserProfiles" query="true" createrowifnonefound="false" datasource="SkuidLocal" verb="GET" endpoint="/objects/profile?scopes=noPublic&amp;order=name&amp;fields=id,name,is_system,permission_set_id" label="Profile" labelplural="Profiles" namefield="name" payloadcontenttype="JSON" unloadwarningifunsavedchanges="false">
			<fields>
				<field id="id" label="Id" displaytype="TEXT" accessible="true" filterable="true"/>
				<field id="name" label="Name" displaytype="TEXT" accessible="true" filterable="true"/>
			</fields>
			<idfields>
				<field>id</field>
			</idfields>
			<conditions/>
			<actions/>
		</model>
		<model id="stng__ProfilesThatCantManageUsers" query="true" createrowifnonefound="false" datasource="SkuidLocal" verb="GET" endpoint="/objects/profile?scopes=cannotConfigureSite,noPublic&amp;order=name&amp;fields=id,name" label="Profile" labelplural="Profiles" namefield="name" payloadcontenttype="JSON" unloadwarningifunsavedchanges="false">
			<fields>
				<field id="id" label="Id" displaytype="TEXT" accessible="true" filterable="true"/>
				<field id="name" label="Name" displaytype="TEXT" accessible="true" filterable="true"/>
			</fields>
			<idfields>
				<field>id</field>
			</idfields>
			<conditions/>
			<actions/>
		</model>
		<model id="stng__UserPasswordReset" limit="20" query="false" createrowifnonefound="false" datasource="SkuidLocal" type="readwrite" unloadwarningifunsavedchanges="false">
			<fields>
				<field id="username" label="Username" displaytype="TEXT" accessible="true" filterable="true"/>
			</fields>
			<conditions/>
			<actions/>
			<methods>
				<method type="query" verb="GET" endpoint="/objects/user"/>
				<method type="insert" verb="POST" successif="requestsucceeds" sendchanges="asjsoninbody" insertresponse="recordinbody" endpoint="/auth/resetpassword"/>
			</methods>
		</model>
		<model id="stng__NoPublicLicenseType" query="true" createrowifnonefound="false" datasource="SkuidLocal" verb="GET" endpoint="/objects/site/subscription?scopes=active,distinctType,noPublic" payloadcontenttype="JSON" unloadwarningifunsavedchanges="false">
			<fields>
				<field id="id" label="Id" displaytype="TEXT" accessible="true" filterable="true"/>
				<field id="name" label="Name" displaytype="TEXT" accessible="true" filterable="true"/>
				<field id="type" label="Type" displaytype="TEXT" accessible="true" filterable="true"/>
			</fields>
			<conditions/>
			<actions/>
		</model>
		<model id="stng__LoginHistoryForUser" limit="20" query="false" createrowifnonefound="false" datasource="SkuidLocal" type="readwrite" label="Login Record" labelplural="Login Records" unloadwarningifunsavedchanges="false">
			<fields>
				<field id="created_at" label="Created" displaytype="DATETIME" accessible="true" filterable="true" readonly="true"/>
				<field id="ip_address" label="IP Address" displaytype="TEXT" accessible="true" filterable="true" readonly="true"/>
				<field id="login_type" label="Login Type" displaytype="PICKLIST" accessible="true" filterable="true" readonly="true">
					<picklistentries>
						<entry label="Email Verification" value="email_verification"/>
						<entry label="OAuth" value="oauth"/>
						<entry label="Password Reset" value="password_reset"/>
						<entry label="SAML" value="SAML"/>
						<entry label="Username/Password" value="user/pass"/>
					</picklistentries>
				</field>
				<field id="success" label="Success?" displaytype="BOOLEAN" accessible="true" filterable="true" readonly="true"/>
				<field id="updated_at" label="Last Modified" displaytype="DATETIME" accessible="true" filterable="true" readonly="true"/>
				<field id="username" label="Username" displaytype="TEXT" accessible="true" filterable="true" readonly="true"/>
				<field id="user.first_name" label="First Name" displaytype="TEXT" accessible="true" filterable="true" readonly="true"/>
				<field id="user.id" label="Id" displaytype="TEXT" accessible="true" filterable="true" readonly="true"/>
				<field id="user.last_name" label="Last Name" displaytype="TEXT" accessible="true" filterable="true" readonly="true"/>
				<field id="error_msg" label="Error Message" displaytype="TEXT" accessible="true" filterable="true" readonly="true"/>
				<field id="saml_type" label="SAML Type" displaytype="TEXT" accessible="true" filterable="true" readonly="true"/>
				<field id="session_id" label="Session" displaytype="TEXT" accessible="true" filterable="true" readonly="true"/>
				<field id="saml_details" label="SAML Details" displaytype="TEXT" accessible="true" filterable="true" readonly="true"/>
			</fields>
			<conditions>
				<condition type="fieldvalue" value="" enclosevalueinquotes="true" sourcetype="param" sourceparam="userid" state="filterableoff" inactive="true" name="userid"/>
			</conditions>
			<actions/>
			<methods>
				<method type="query" verb="GET" endpoint="/objects/loginhistory?order=-created_at&amp;fields=login_type,ip_address,success,username,user_id,user.first_name,user.last_name,created_at,updated_at,saml_type,error_msg,saml_details,session_id&amp;limit=200&amp;where={&quot;user_id&quot;:&quot;{{userid}}&quot;}"/>
			</methods>
		</model>
		<model id="stng__ImportCSV" query="true" createrowifnonefound="false" datasource="Ui-Only" processonclient="true" unloadwarningifunsavedchanges="true">
			<fields>
				<field id="delimiter" displaytype="PICKLIST" label="Delimiter" ogdisplaytype="TEXT" picklistsource="manual" defaultvaluetype="fieldvalue" defaultValue="," required="true" returntype="TEXT">
					<picklistentries>
						<entry value="," label=","/>
						<entry value=";" label=";"/>
						<entry value="&#9;" label="TAB"/>
					</picklistentries>
				</field>
				<field id="profile" displaytype="PICKLIST" label="Default Profile" ogdisplaytype="TEXT" picklistsource="rowsinmodel" picklistmodel="stng__NonPublicUserProfiles" entryvalue="{{{id}}}" entrylabel="{{{name}}}" helptext="The default {{^$Model.FeatureFlags.data.0.appPermSetsEnabled}}profile{{/$Model.FeatureFlags.data.0.appPermSetsEnabled}}{{#$Model.FeatureFlags.data.0.appPermSetsEnabled}}site permission set{{/$Model.FeatureFlags.data.0.appPermSetsEnabled}}  for all imported users. You can change this {{^$Model.FeatureFlags.data.0.appPermSetsEnabled}}profile{{/$Model.FeatureFlags.data.0.appPermSetsEnabled}}{{#$Model.FeatureFlags.data.0.appPermSetsEnabled}}site permission set{{/$Model.FeatureFlags.data.0.appPermSetsEnabled}}  for individual users after they have been imported." defaultvaluetype="fieldvalue" required="true" returntype="TEXT" defaultValue="" mergefield="id" enclosevalueinquotes="true">
					<picklistentries>
						<entry value="placeholder" label="placeholder1"/>
						<entry value="placeholder2" label="placeholder2"/>
					</picklistentries>
				</field>
				<field id="filename" displaytype="TEXT" label="Filename" defaultvaluetype="fieldvalue"/>
			</fields>
			<conditions/>
			<actions>
				<action>
					<actions/>
					<events>
						<event>row.updated</event>
					</events>
					<fields>
						<field>filename</field>
					</fields>
				</action>
			</actions>
			<methods/>
		</model>
		<model id="stng__CSVFields" query="true" createrowifnonefound="true" datasource="Ui-Only" processonclient="true" unloadwarningifunsavedchanges="false">
			<fields>
				<field id="email" displaytype="PICKLIST" label="Email" ogdisplaytype="TEXT" picklistsource="rowsinmodel" picklistmodel="stng__CSVColumns" entryvalue="{{{value}}}" entrylabel="{{{value}}}" helptext="" defaultvaluetype="fieldvalue" required="true" defaultValue=""/>
				<field id="username" displaytype="PICKLIST" label="Username" ogdisplaytype="TEXT" picklistsource="rowsinmodel" required="true" picklistmodel="stng__CSVColumns" entryvalue="{{value}}" entrylabel="{{value}}" defaultvaluetype="fieldvalue"/>
				<field id="first_name" displaytype="PICKLIST" label="First Name" ogdisplaytype="TEXT" picklistsource="rowsinmodel" required="true" picklistmodel="stng__CSVColumns" entryvalue="{{value}}" entrylabel="{{value}}" defaultvaluetype="fieldvalue"/>
				<field id="last_name" displaytype="PICKLIST" label="Last Name" ogdisplaytype="TEXT" picklistsource="rowsinmodel" required="true" picklistmodel="stng__CSVColumns" entryvalue="{{value}}" entrylabel="{{value}}" defaultvaluetype="fieldvalue"/>
				<field id="profile" displaytype="PICKLIST" label="Profile" ogdisplaytype="TEXT" picklistsource="rowsinmodel" picklistmodel="stng__CSVColumns" defaultvaluetype="fieldvalue" entryvalue="{{value}}" entrylabel="{{value}}" returntype="TEXT" helptext="If the CSV file has a column that lists the individual's {{^$Model.FeatureFlags.data.0.appPermSetsEnabled}}profile{{/$Model.FeatureFlags.data.0.appPermSetsEnabled}}{{#$Model.FeatureFlags.data.0.appPermSetsEnabled}}site permission set{{/$Model.FeatureFlags.data.0.appPermSetsEnabled}}, select it here. Values in this column supersede the Default {{^$Model.FeatureFlags.data.0.appPermSetsEnabled}}Profile{{/$Model.FeatureFlags.data.0.appPermSetsEnabled}}{{#$Model.FeatureFlags.data.0.appPermSetsEnabled}}Site Permission Set{{/$Model.FeatureFlags.data.0.appPermSetsEnabled}}  in Step 1: Configure File."/>
				<field id="federation_id" displaytype="PICKLIST" label="Federation Id" ogdisplaytype="TEXT" picklistsource="rowsinmodel" required="false" picklistmodel="stng__CSVColumns" entryvalue="{{value}}" entrylabel="{{value}}" defaultvaluetype="fieldvalue"/>
				<field id="type" displaytype="PICKLIST" label="Type" ogdisplaytype="TEXT" picklistsource="rowsinmodel" required="false" picklistmodel="stng__CSVColumns" entryvalue="{{value}}" entrylabel="{{value}}" defaultvaluetype="fieldvalue"/>
				<field id="locale" displaytype="PICKLIST" label="Locale" ogdisplaytype="TEXT" picklistsource="rowsinmodel" required="false" picklistmodel="stng__CSVColumns" entryvalue="{{value}}" entrylabel="{{value}}" defaultvaluetype="fieldvalue" returntype="TEXT"/>
				<field id="time_zone" displaytype="PICKLIST" label="Time Zone" ogdisplaytype="TEXT" picklistsource="rowsinmodel" required="false" picklistmodel="stng__CSVColumns" entryvalue="{{value}}" entrylabel="{{value}}" defaultvaluetype="fieldvalue" returntype="TEXT"/>
				<field id="permissionSetId" displaytype="TEXT" length="255" label="Permission Set Id"/>
			</fields>
			<conditions/>
			<actions/>
			<methods/>
		</model>
		<model id="stng__CSVColumns" query="false" createrowifnonefound="false" datasource="Ui-Only" unloadwarningifunsavedchanges="false" processonclient="true">
			<fields>
				<field id="label" displaytype="TEXT"/>
				<field id="value" displaytype="TEXT"/>
				<field id="index" displaytype="DOUBLE" ogdisplaytype="TEXT" precision="9" scale="0"/>
			</fields>
			<conditions/>
			<actions/>
			<idfields/>
		</model>
		<model id="stng__CSVSampleRows" query="false" createrowifnonefound="true" datasource="Ui-Only" unloadwarningifunsavedchanges="false" processonclient="true" label="User" labelplural="Users">
			<fields>
				<field id="username" displaytype="TEXT" label="Username" readonly="false" length="255" defaultvaluetype="fieldvalue"/>
				<field id="email" displaytype="TEXT" label="Email" readonly="false"/>
				<field id="first_name" displaytype="TEXT" label="First Name" readonly="false"/>
				<field id="last_name" displaytype="TEXT" label="Last Name" readonly="false"/>
				<field id="profile" displaytype="TEXT" label="Profile" readonly="false" placeholder=""/>
				<field id="federation_id" displaytype="TEXT" label="Federation Id" readonly="false"/>
				<field id="type" displaytype="TEXT" label="Type" readonly="false"/>
				<field id="locale" label="Locale" displaytype="PICKLIST" accessible="true" filterable="true" readonly="false" picklistsource="rowsinmodel" picklistmodel="stng__LocaleOptions" entryvalue="{{{value}}}" entrylabel="{{label}}" returntype="TEXT"/>
				<field id="time_zone" displaytype="TEXT" label="Time Zone" readonly="false"/>
			</fields>
			<conditions/>
			<actions/>
			<idfields>
				<field>username</field>
			</idfields>
		</model>
		<model id="stng__CSVParseErrors" query="false" createrowifnonefound="false" datasource="Ui-Only" unloadwarningifunsavedchanges="false" processonclient="true" label="User" labelplural="Users">
			<fields>
				<field id="username" displaytype="TEXT" label="Username" readonly="false"/>
				<field id="email" displaytype="TEXT" label="Email" readonly="false"/>
				<field id="first_name" displaytype="TEXT" label="First Name" readonly="false"/>
				<field id="last_name" displaytype="TEXT" label="Last Name" readonly="false"/>
				<field id="profile" displaytype="TEXT" label="Profile" readonly="false" placeholder=""/>
				<field id="federation_id" displaytype="TEXT" label="Federation Id" readonly="false"/>
				<field id="type" displaytype="TEXT" label="Type" readonly="false"/>
				<field id="locale" label="Locale" displaytype="PICKLIST" accessible="true" filterable="true" readonly="false" picklistsource="rowsinmodel" picklistmodel="stng__LocaleOptions" entryvalue="{{{value}}}" entrylabel="{{label}}" returntype="TEXT"/>
				<field id="time_zone" displaytype="TEXT" label="Time Zone" readonly="false"/>
				<field id="error" displaytype="TEXT" label="Error" length="255" ogdisplaytype="TEXT"/>
			</fields>
			<conditions/>
			<actions/>
			<idfields>
				<field>username</field>
			</idfields>
		</model>
		<model id="stng__LocaleOptions" query="true" createrowifnonefound="false" datasource="SkuidLocal" verb="GET" endpoint="/locale-options" pathtocontent="locales" label="Locale" labelplural="Locales" namefield="label" async="true" payloadcontenttype="JSON" unloadwarningifunsavedchanges="false">
			<fields>
				<field id="label" label="Label" displaytype="TEXT" accessible="true" filterable="true"/>
				<field id="value" label="Value" displaytype="TEXT" accessible="true" filterable="true"/>
			</fields>
			<idfields>
				<field>value</field>
			</idfields>
			<conditions/>
			<actions/>
		</model>
		<model id="stng__LanguageOptions" query="true" createrowifnonefound="false" datasource="SkuidLocal" verb="GET" endpoint="/locale-options" pathtocontent="languages" label="Language" labelplural="Languages" namefield="label" async="true" payloadcontenttype="JSON" unloadwarningifunsavedchanges="false">
			<fields>
				<field id="label" label="Label" displaytype="TEXT" accessible="true" filterable="true"/>
				<field id="value" label="Value" displaytype="TEXT" accessible="true" filterable="true"/>
			</fields>
			<idfields>
				<field>value</field>
			</idfields>
			<conditions/>
			<actions/>
		</model>
		<model id="stng__TimeZoneOptions" query="true" createrowifnonefound="false" datasource="SkuidLocal" verb="GET" endpoint="/locale-options" pathtocontent="timeZones" label="Time Zone" labelplural="Time Zones" namefield="label" async="true" payloadcontenttype="JSON" unloadwarningifunsavedchanges="false">
			<fields>
				<field id="label" label="Label" displaytype="TEXT" accessible="true" filterable="true"/>
				<field id="value" label="Value" displaytype="TEXT" accessible="true" filterable="true"/>
			</fields>
			<idfields>
				<field>value</field>
			</idfields>
			<conditions/>
			<actions/>
		</model>
		<model id="FiltersApplied" limit="20" query="true" datasource="Ui-Only" createrowifnonefound="false">
			<fields>
				<field id="ActiveUserFilter" displaytype="PICKLIST" length="255" ogdisplaytype="TEXT" picklistsource="manual" returntype="TEXT" defaultvaluetype="fieldvalue">
					<picklistentries>
						<entry value="true" label="Active"/>
						<entry value="false" label="Inactive"/>
					</picklistentries>
				</field>
				<field id="CreationMethodFilter" displaytype="PICKLIST" length="255" ogdisplaytype="TEXT" picklistsource="manual" returntype="TEXT">
					<picklistentries>
						<entry value="internal" label="Manual"/>
						<entry value="sso-jit-provisioning" label="Single Sign On"/>
						<entry value="signup-api" label="Signup API"/>
						<entry value="import" label="Import"/>
					</picklistentries>
				</field>
				<field id="UserTypeFilter" displaytype="PICKLIST" accessible="true" filterable="true" required="false" picklistsource="rowsinmodel" picklistmodel="stng__NoPublicLicenseType" entryvalue="{{type}}" entrylabel="{{type}}" returntype="TEXT"/>
				<field id="UserProfileFilter" displaytype="PICKLIST" length="255" ogdisplaytype="TEXT" picklistsource="rowsinmodel" returntype="TEXT" picklistmodel="stng__NonPublicUserProfiles" entryvalue="{{id}}" entrylabel="{{name}}"/>
			</fields>
			<conditions/>
			<actions>
				<action>
					<actions>
						<action type="branch" whenfinished="stop" model="FiltersApplied" label="Clear model if no filters are applied">
							<formula>{{ActiveUserFilter}}==null &amp;&amp; {{CreationMethodFilter}}==null &amp;&amp; {{UserProfileFilter}}==null &amp;&amp; {{UserTypeFilter}}==null</formula>
							<iftrueactions>
								<action type="emptyModelData">
									<models>
										<model>FiltersApplied</model>
									</models>
								</action>
							</iftrueactions>
						</action>
					</actions>
					<events>
						<event>row.updated</event>
					</events>
				</action>
			</actions>
			<idfields/>
		</model>
	</models>
	<components>
		<skuid__grid uniqueid="grid-users-header" flexDirection="row" justifyContent="flex-start" alignItems="center" columnGutter="0" rowGutter="0">
			<divisions>
				<division minWidth="0" ratio="1" alignSelf="auto">
					<components>
						<skuid__text contents="{{Model.labelPlural}}" uniqueid="sk-38Qh-84173" model="stng__Users" styleSettingsVariant="014b3346-10ed-4578-aa1a-cae68a21cc80">
							<styles>
								<spacing/>
							</styles>
						</skuid__text>
					</components>
				</division>
				<division alignSelf="auto" minWidth="0" ratio="0">
					<components>
						<skuid__buttonSet uniqueid="sk-2zc-19920">
							<groups>
								<skuid__buttonGroup>
									<buttons>
										<skuid__button label="Create" uniqueid="button-users-create" styleSettingsVariant="primary">
											<tooltip position="top"/>
											<actions>
												<action type="createRow" model="stng__Users" appendorprepend="prepend" defaultmodefornewitems="edit" affectedrows="context">
													<defaults>
														<default valuesource="fieldvalue" field="creation_method" enclosevalueinquotes="true" value="internal"/>
													</defaults>
												</action>
												<action type="showModal">
													<skuid__modal title="Add new user" width="600px">
														<components>
															<skuid__form showErrorsInline="true" model="stng__Users" uniqueid="sk-1s81-23884" mode="edit">
																<columns>
																	<column verticalAlign="top" ratio="1">
																		<sections>
																			<section showHeading="false">
																				<fields>
																					<skuid__field id="first_name" uniqueid="field-first-name"/>
																					<skuid__field id="last_name" uniqueid="field-last-name"/>
																					<skuid__field id="username" uniqueid="field-username"/>
																					<skuid__field id="email" uniqueid="field-email"/>
																					<skuid__field id="profile_id" uniqueid="field-profile-id" label="{{^$Model.FeatureFlags.data.0.appPermSetsEnabled}}Profile{{/$Model.FeatureFlags.data.0.appPermSetsEnabled}}{{#$Model.FeatureFlags.data.0.appPermSetsEnabled}}Site Permission Set{{/$Model.FeatureFlags.data.0.appPermSetsEnabled}}"/>
																					<skuid__field id="type" uniqueid="field-type"/>
																				</fields>
																			</section>
																		</sections>
																	</column>
																</columns>
															</skuid__form>
														</components>
														<buttons>
															<skuid__button label="Save" styleSettingsVariant="primary" uniqueid="button-users-save-new-user">
																<actions>
																	<action type="save">
																		<models>
																			<model>stng__Users</model>
																		</models>
																		<onerroractions>
																			<action type="blockUI" message="Error: {{insertResults.0.errors.0.message}}" timeout="3000"/>
																		</onerroractions>
																	</action>
																	<action type="closeTopmostPopup"/>
																	<action type="showToast" duration="4" styleSettingsVariant="default" message="New user created" position="bl"/>
																</actions>
																<hotkeys>
																	<hotkey modifiers="ctrl,meta" key="s"/>
																</hotkeys>
															</skuid__button>
															<skuid__button label="Cancel" uniqueid="button-users-cancel-new-user">
																<actions>
																	<action type="cancel">
																		<models>
																			<model>stng__Users</model>
																		</models>
																	</action>
																	<action type="closeTopmostPopup"/>
																</actions>
															</skuid__button>
														</buttons>
														<afterCloseActions>
															<action type="cancel">
																<models>
																	<model>stng__Users</model>
																</models>
															</action>
														</afterCloseActions>
													</skuid__modal>
												</action>
											</actions>
										</skuid__button>
										<skuid__button label="Import CSV" uniqueid="button-users-importCSV">
											<actions>
												<action type="createRow" model="stng__ImportCSV" appendorprepend="prepend" defaultmodefornewitems="edit" affectedrows="context">
													<defaults>
														<default valuesource="blank" field="filename" enclosevalueinquotes="true"/>
														<default valuesource="fieldvalue" field="profile" enclosevalueinquotes="true" value="{{$Model.stng__NonPublicUserProfiles.data.0.id}}"/>
													</defaults>
												</action>
												<action type="emptyModelData">
													<models>
														<model>stng__CSVColumns</model>
													</models>
												</action>
												<action type="emptyModelData">
													<models>
														<model>stng__CSVSampleRows</model>
													</models>
												</action>
												<action type="showModal">
													<skuid__modal title="Import users via CSV file" width="600px" styleSettingsVariant="9c54fc61-6857-4f90-8d09-722dfe82ce42">
														<components>
															<skuid__wizard uniqueid="wizard-users-importCSV" hideStepLabels="true" disableStepButtons="true" styleSettingsVariant="b8643aa8-49a1-4a2f-a75b-5e7af1e7e713">
																<steps>
																	<step stepId="step1" stepLabel="Upload File">
																		<components>
																			<skuid__wrapper uniqueid="sk-38VV-139800">
																				<components>
																					<skuid__text contents="Choose CSV file" uniqueid="sk-38V1-129512" styleSettingsVariant="bcf356fb-cd9b-4b49-adb6-299b154f243f">
																						<styles>
																							<spacing/>
																						</styles>
																					</skuid__text>
																					<skuid__text contents="{{filename}}" uniqueid="field-users-CSV-filename" model="stng__ImportCSV" styleSettingsVariant="ef8d4ab0-3722-4e16-903c-ec582c9ca67f">
																						<styles>
																							<spacing top="1"/>
																						</styles>
																					</skuid__text>
																					<skuid__file editable="true" storeAs="uploadfile" displayAs="filename" deletable="true" uniqueid="file-users-CSV-fileupload" datasource="SkuidLocal" url="/csv/upload">
																						<uploadSuccessActions>
																							<action type="custom" snippet="updateFilename">
																								<onerroractions>
																									<action type="blockUI" message="Error:  {{message}}" timeout="3000"/>
																								</onerroractions>
																							</action>
																						</uploadSuccessActions>
																						<uploadFailureActions>
																							<action type="blockUI" message="Error:  Could not upload the file" timeout="3000"/>
																						</uploadFailureActions>
																						<styles>
																							<spacing top="1" bottom="2"/>
																						</styles>
																					</skuid__file>
																					<skuid__form showErrorsInline="true" model="stng__ImportCSV" uniqueid="sk-3uI7-4078" mode="edit">
																						<columns>
																							<column verticalAlign="top" ratio="1">
																								<sections>
																									<section showHeading="false">
																										<fields>
																											<skuid__field id="delimiter" uniqueid="field-users-CSV-delimiter"/>
																											<skuid__field id="profile" uniqueid="field-users-CSV-default-profile" showHelp="true" addNoneOption="true" noneLabel="Select Profile" label="Default {{^$Model.FeatureFlags.data.0.appPermSetsEnabled}}Profile{{/$Model.FeatureFlags.data.0.appPermSetsEnabled}}{{#$Model.FeatureFlags.data.0.appPermSetsEnabled}}Site Permission Set{{/$Model.FeatureFlags.data.0.appPermSetsEnabled}}"/>
																										</fields>
																									</section>
																								</sections>
																							</column>
																						</columns>
																					</skuid__form>
																				</components>
																				<background/>
																				<styles>
																					<spacing bottom="3" left="3" right="3"/>
																				</styles>
																			</skuid__wrapper>
																			<skuid__wrapper uniqueid="sk-38VS-137589" styleSettingsVariant="127a15a3-f039-4e89-a282-c1f25b6f8d26">
																				<components>
																					<skuid__grid uniqueid="sk-3K1a-19261" flexDirection="row" justifyContent="flex-start" alignItems="flex-start">
																						<divisions>
																							<division minWidth="100px" ratio="1">
																								<components>
																									<skuid__buttonSet uniqueid="sk-3K1c-19744" position="left">
																										<groups>
																											<skuid__buttonGroup>
																												<buttons>
																													<skuid__button label="Cancel" uniqueid="button-users-CSVImport-cancel">
																														<actions>
																															<action type="closeAllPopups"/>
																														</actions>
																													</skuid__button>
																												</buttons>
																											</skuid__buttonGroup>
																										</groups>
																									</skuid__buttonSet>
																								</components>
																							</division>
																							<division alignSelf="auto" minWidth="100px" ratio="1">
																								<components>
																									<skuid__buttonSet uniqueid="sk-3K1g-22613">
																										<groups>
																											<skuid__buttonGroup>
																												<buttons>
																													<skuid__button label="Next" uniqueid="button-users-CSVImport-step2" styleSettingsVariant="primary">
																														<actions>
																															<action type="save">
																																<models>
																																	<model>stng__ImportCSV</model>
																																</models>
																															</action>
																															<action type="emptyModelData">
																																<models>
																																	<model>stng__CSVSampleRows</model>
																																	<model>stng__CSVParseErrors</model>
																																</models>
																															</action>
																															<action type="custom" snippet="getCSVColumns">
																																<onerroractions>
																																	<action type="blockUI" message="There was an error:  {{error}}" timeout="3000"/>
																																</onerroractions>
																															</action>
																															<action type="runComponentAction" componentid="wizard-users-importCSV" action="navigateToStep" stepId="step2"/>
																														</actions>
																														<renderConditions logictype="and"/>
																														<enableConditions logictype="and">
																															<condition type="blank" operator="!=" fieldmodel="stng__ImportCSV" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="filename" value="null" enclosevalueinquotes="false"/>
																															<condition type="blank" operator="!=" fieldmodel="stng__ImportCSV" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="profile" value="null" enclosevalueinquotes="false"/>
																														</enableConditions>
																														<styleVariantConditions/>
																													</skuid__button>
																												</buttons>
																											</skuid__buttonGroup>
																										</groups>
																										<styles>
																											<spacing/>
																										</styles>
																									</skuid__buttonSet>
																								</components>
																							</division>
																						</divisions>
																						<styles>
																							<spacing top="2" left="3" right="3" bottom="2"/>
																						</styles>
																						<background/>
																					</skuid__grid>
																				</components>
																				<background/>
																				<styles>
																					<spacing/>
																				</styles>
																			</skuid__wrapper>
																		</components>
																		<buttons/>
																	</step>
																	<step stepId="step2" stepLabel="Assign Columns">
																		<components>
																			<skuid__wrapper uniqueid="sk-38aX-234290">
																				<components>
																					<skuid__messageArea uniqueid="sk-38Xi-197351" model="stng__ImportCSV">
																						<group>
																							<skuid__messageBlock title="Invalid CSV format" description="The file  &quot;{{filename}}&quot; doesn't have column headers, or does not appear to be a CSV-formatted file. Please return to the previous step." allowHTML="false" styleSettingsVariant="errorStrong" icon="sk-webicon-ink:warning">
																								<renderConditions logictype="and">
																									<renderCondition fieldmodel="stng__CSVColumns" sourcetype="modelproperty" nosourcerowbehavior="deactivate" sourceproperty="hasNoRows"/>
																								</renderConditions>
																							</skuid__messageBlock>
																						</group>
																						<renderConditions logictype="and"/>
																					</skuid__messageArea>
																					<skuid__wrapper uniqueid="sk-2-NW-178731">
																						<components>
																							<skuid__text contents="Required fields" uniqueid="sk-38YH-206666" styleSettingsVariant="53193c74-b77c-429e-8fed-09b73deaa10c">
																								<styles>
																									<spacing bottom="1"/>
																								</styles>
																								<renderConditions logictype="and">
																									<renderCondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="page_ui_control" sourcetype="fieldvalue" nosourcerowbehavior="deactivate"/>
																								</renderConditions>
																								<styleVariantConditions/>
																							</skuid__text>
																							<skuid__text contents="Match these user fields to the appropriate columns in the CSV file." uniqueid="sk-2-Gb-59526">
																								<styles>
																									<spacing bottom="3" styleSettingsVariant="ef8d4ab0-3722-4e16-903c-ec582c9ca67f"/>
																								</styles>
																							</skuid__text>
																							<skuid__form showErrorsInline="true" model="stng__CSVFields" uniqueid="sk-3uOv-2131" mode="edit">
																								<renderConditions logictype="and"/>
																								<styleVariantConditions/>
																								<columns>
																									<column verticalAlign="top" ratio="1">
																										<sections>
																											<section showHeading="false">
																												<fields>
																													<skuid__field id="email" uniqueid="field-users-CSV-emailmap"/>
																													<skuid__field id="first_name" uniqueid="field-users-CSV-fistnamemap"/>
																													<skuid__field id="last_name" uniqueid="field-users-CSV-lastnamemap"/>
																													<skuid__field id="username" uniqueid="field-users-CSV-usernamemap"/>
																												</fields>
																											</section>
																										</sections>
																									</column>
																								</columns>
																							</skuid__form>
																							<skuid__accordion uniqueid="sk-38b1-238067" sectionsInitiallyOpen="none" styleSettingsVariant="b8422883-8ee9-445b-baeb-1f981a549c2a" iconOnRight="false">
																								<sections>
																									<section title="Optional fields">
																										<components>
																											<skuid__text contents="Match these user fields to the appropriate columns in the CSV file." uniqueid="sk-2-H5-76456" styleSettingsVariant="ef8d4ab0-3722-4e16-903c-ec582c9ca67f">
																												<styles>
																													<spacing bottom="3" styleSettingsVariant="ef8d4ab0-3722-4e16-903c-ec582c9ca67f"/>
																												</styles>
																												<renderConditions logictype="and">
																													<renderCondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="page_ui_control" sourcetype="fieldvalue" nosourcerowbehavior="deactivate"/>
																												</renderConditions>
																												<styleVariantConditions/>
																											</skuid__text>
																											<skuid__form showErrorsInline="true" model="stng__CSVFields" uniqueid="sk-2-HB-79478" mode="edit">
																												<columns>
																													<column verticalAlign="top" ratio="1">
																														<sections>
																															<section showHeading="false">
																																<fields>
																																	<skuid__field id="profile" showHelp="true" uniqueid="field-users-CSV-profilemap" label="{{^$Model.FeatureFlags.data.0.appPermSetsEnabled}}Profile{{/$Model.FeatureFlags.data.0.appPermSetsEnabled}}{{#$Model.FeatureFlags.data.0.appPermSetsEnabled}}Site Permission Set{{/$Model.FeatureFlags.data.0.appPermSetsEnabled}}"/>
																																	<skuid__field id="type" uniqueid="field-users-CSV-typemap"/>
																																	<skuid__field id="federation_id" uniqueid="field-users-CSV-federationIDmap"/>
																																	<skuid__field id="locale" uniqueid="field-users-CSV-localemap"/>
																																	<skuid__field id="time_zone" uniqueid="field-users-CSV-timezonemap"/>
																																</fields>
																															</section>
																														</sections>
																													</column>
																												</columns>
																												<styles>
																													<spacing top="1"/>
																												</styles>
																											</skuid__form>
																										</components>
																									</section>
																								</sections>
																								<styles>
																									<spacing top="3"/>
																								</styles>
																							</skuid__accordion>
																						</components>
																						<background/>
																						<renderConditions logictype="and">
																							<renderCondition type="fieldvalue" enclosevalueinquotes="true" fieldmodel="stng__CSVColumns" sourcetype="modelproperty" nosourcerowbehavior="deactivate" sourceproperty="hasRows"/>
																						</renderConditions>
																						<styleVariantConditions/>
																						<styles>
																							<spacing/>
																						</styles>
																					</skuid__wrapper>
																				</components>
																				<styles>
																					<spacing bottom="3" left="3" right="3"/>
																				</styles>
																				<background/>
																			</skuid__wrapper>
																			<skuid__wrapper uniqueid="wrapper-users-CSV-step2Error-badrows">
																				<components>
																					<skuid__messageArea uniqueid="sk-38ZR-214845" model="stng__ImportCSV">
																						<group>
																							<skuid__messageBlock title="There were issues with some rows" description="Please correct the following rows in the .csv file and upload again" allowHTML="false" styleSettingsVariant="errorStrong" icon="sk-webicon-ink:warning">
																								<renderConditions logictype="and"/>
																							</skuid__messageBlock>
																						</group>
																						<styles>
																							<spacing bottom="2"/>
																						</styles>
																					</skuid__messageArea>
																					<skuid__table model="stng__CSVParseErrors" uniqueid="table-users-CSV-row-errors" mode="readonly" showSaveCancel="false" pageSize="10" adaptiveColumns="true" allowColumnOrdering="false" allowColumnHiding="false" showListHeader="false" cellOverflow="scroll">
																						<fields>
																							<field id="error" uniqueid="fi-2fq-2526" columnMaxWidth="164px"/>
																							<field id="email" uniqueid="fi-2fq-2527" columnMaxWidth="156px"/>
																							<field id="first_name" uniqueid="fi-2fq-2528" columnMaxWidth="156px"/>
																							<field id="last_name" uniqueid="fi-2fq-2529" columnMaxWidth="156px"/>
																							<field id="username" uniqueid="fi-2fq-2530" columnMaxWidth="156px"/>
																							<field id="profile" uniqueid="fi-2fq-2531" columnMaxWidth="156px"/>
																							<field id="federation_id" uniqueid="fi-2fq-2532" columnMaxWidth="156px"/>
																							<field id="type" uniqueid="fi-2fq-2533" columnMaxWidth="156px"/>
																							<field id="locale" uniqueid="fi-2fq-2534" columnMaxWidth="156px"/>
																							<field id="time_zone" uniqueid="fi-2fq-2535" columnMaxWidth="156px"/>
																						</fields>
																						<filtering enableSearch="false" instantSearch="false" searchMethod="client"/>
																						<rowActions/>
																						<massActions/>
																						<renderConditions logictype="and"/>
																						<conditions/>
																						<exportProperties useTableColumns="true"/>
																						<sorting enable="false"/>
																						<styles>
																							<spacing/>
																						</styles>
																					</skuid__table>
																				</components>
																				<background/>
																				<renderConditions logictype="and">
																					<renderCondition type="fieldvalue" enclosevalueinquotes="true" fieldmodel="stng__CSVParseErrors" sourcetype="modelproperty" sourceproperty="hasRows"/>
																				</renderConditions>
																				<styleVariantConditions/>
																				<styles>
																					<spacing left="3" right="3" bottom="3"/>
																				</styles>
																			</skuid__wrapper>
																			<skuid__wrapper uniqueid="sk-38aE-227531" styleSettingsVariant="127a15a3-f039-4e89-a282-c1f25b6f8d26">
																				<components>
																					<skuid__grid uniqueid="sk-3K1z-26927" flexDirection="row" justifyContent="flex-start" alignItems="flex-start">
																						<divisions>
																							<division minWidth="100px" ratio="1">
																								<components>
																									<skuid__buttonSet uniqueid="sk-3K1z-26928" position="left">
																										<groups>
																											<skuid__buttonGroup>
																												<buttons>
																													<skuid__button label="Back" uniqueid="button-users-CSVImport-back-to-step1">
																														<actions>
																															<action type="runComponentAction" componentid="wizard-users-importCSV" action="navigateToStep" stepId="step1"/>
																														</actions>
																													</skuid__button>
																												</buttons>
																											</skuid__buttonGroup>
																										</groups>
																									</skuid__buttonSet>
																								</components>
																							</division>
																							<division alignSelf="auto" minWidth="100px" ratio="1">
																								<components>
																									<skuid__buttonSet uniqueid="sk-3K1z-26930">
																										<groups>
																											<skuid__buttonGroup>
																												<buttons>
																													<skuid__button label="Next" uniqueid="button-users-CSVImport-step3" styleSettingsVariant="primary">
																														<actions>
																															<action type="emptyModelData">
																																<models>
																																	<model>stng__CSVSampleRows</model>
																																	<model>stng__CSVParseErrors</model>
																																</models>
																															</action>
																															<action type="custom" snippet="previewRows">
																																<onerroractions>
																																	<action type="branch" message="There was an error" timeout="3000" whenfinished="stop">
																																		<formula>NOT(ISBLANK({{error}}))</formula>
																																		<iftrueactions>
																																			<action type="blockUI" message="Error: {{message}}" timeout="5000"/>
																																		</iftrueactions>
																																	</action>
																																</onerroractions>
																															</action>
																															<action type="runComponentAction" componentid="wizard-users-importCSV" action="navigateToStep" stepId="step3"/>
																														</actions>
																														<renderConditions logictype="and"/>
																														<enableConditions logictype="and" message="Please select a column for every required field">
																															<condition type="blank" operator="!=" fieldmodel="stng__CSVFields" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="email" value="null" enclosevalueinquotes="false"/>
																															<condition type="blank" operator="!=" fieldmodel="stng__CSVFields" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="first_name" value="null" enclosevalueinquotes="false"/>
																															<condition type="blank" operator="!=" fieldmodel="stng__CSVFields" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="last_name" value="null" enclosevalueinquotes="false"/>
																															<condition type="blank" operator="!=" fieldmodel="stng__CSVFields" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="username" value="null" enclosevalueinquotes="false"/>
																															<condition type="fieldvalue" enclosevalueinquotes="true" fieldmodel="stng__CSVColumns" sourcetype="modelproperty" nosourcerowbehavior="deactivate" sourceproperty="hasRows"/>
																															<condition fieldmodel="stng__CSVParseErrors" sourcetype="modelproperty" nosourcerowbehavior="deactivate" sourceproperty="hasNoRows"/>
																														</enableConditions>
																													</skuid__button>
																												</buttons>
																											</skuid__buttonGroup>
																										</groups>
																									</skuid__buttonSet>
																								</components>
																							</division>
																						</divisions>
																						<styles>
																							<spacing top="2" bottom="2" left="3" right="3"/>
																						</styles>
																						<background/>
																					</skuid__grid>
																				</components>
																				<background/>
																				<styles>
																					<spacing/>
																				</styles>
																			</skuid__wrapper>
																		</components>
																		<buttons/>
																	</step>
																	<step stepId="step3" stepLabel="Preview">
																		<components>
																			<skuid__wrapper uniqueid="sk-38fs-74580">
																				<components>
																					<skuid__text contents="Review the file before importing" uniqueid="sk-38fS-57259">
																						<styles>
																							<spacing bottom="3"/>
																						</styles>
																					</skuid__text>
																					<skuid__table model="stng__CSVSampleRows" uniqueid="table-users-CSV-import-preview" mode="readonly" showSaveCancel="false" pageSize="5" showListHeader="false">
																						<fields>
																							<field id="email" uniqueid="fi-2iN-3471" columnWidth="156px"/>
																							<field id="first_name" uniqueid="fi-2iN-3472" columnWidth="156px"/>
																							<field id="last_name" uniqueid="fi-2iN-3473" columnWidth="156px"/>
																							<field id="username" uniqueid="fi-2iN-3474" columnWidth="156px"/>
																							<field id="profile" uniqueid="fi-2iN-3475" columnWidth="156px"/>
																							<field id="federation_id" uniqueid="fi-2iN-3476" columnWidth="156px"/>
																							<field id="type" uniqueid="fi-2iN-3477" columnWidth="156px"/>
																							<field id="locale" uniqueid="fi-2iN-3478" columnWidth="156px"/>
																							<field id="time_zone" uniqueid="fi-2iN-3479" columnWidth="156px">
																								<renderConditions logictype="and" onhidedatabehavior="keep"/>
																							</field>
																						</fields>
																						<filtering enableSearch="false" instantSearch="false" searchMethod="client"/>
																						<rowActions/>
																						<massActions/>
																						<renderConditions logictype="and">
																							<renderCondition type="fieldvalue" enclosevalueinquotes="true" fieldmodel="stng__CSVSampleRows" sourcetype="modelproperty" nosourcerowbehavior="deactivate" sourceproperty="hasRows"/>
																						</renderConditions>
																						<exportProperties useTableColumns="true"/>
																						<sorting enable="false"/>
																					</skuid__table>
																				</components>
																				<background/>
																				<styles>
																					<spacing bottom="3" left="3" right="3"/>
																				</styles>
																			</skuid__wrapper>
																			<skuid__wrapper uniqueid="sk-38fm-68776" styleSettingsVariant="127a15a3-f039-4e89-a282-c1f25b6f8d26">
																				<components>
																					<skuid__grid uniqueid="sk-3K20-28454" flexDirection="row" justifyContent="flex-start" alignItems="flex-start">
																						<divisions>
																							<division minWidth="100px" ratio="1">
																								<components>
																									<skuid__buttonSet uniqueid="sk-3K20-28455" position="left">
																										<groups>
																											<skuid__buttonGroup>
																												<buttons>
																													<skuid__button label="Back" uniqueid="button-users-CSVImport-back-2">
																														<actions>
																															<action type="runComponentAction" componentid="wizard-users-importCSV" action="navigateToStep" stepId="step2"/>
																														</actions>
																													</skuid__button>
																												</buttons>
																											</skuid__buttonGroup>
																										</groups>
																									</skuid__buttonSet>
																								</components>
																							</division>
																							<division alignSelf="auto" minWidth="100px" ratio="1">
																								<components>
																									<skuid__buttonSet uniqueid="sk-3K20-28457">
																										<groups>
																											<skuid__buttonGroup>
																												<buttons>
																													<skuid__button label="Import" uniqueid="button-users-CSVImport-finish" styleSettingsVariant="primary">
																														<actions>
																															<action type="blockUI" message="Starting import..." timeout="1500" styleSettingsVariant="dark"/>
																															<action type="custom" snippet="runImport">
																																<onerroractions>
																																	<action type="blockUI" message="Error: {{error}}" timeout="3000" styleSettingsVariant="dark"/>
																																</onerroractions>
																															</action>
																															<action type="closeModals" closebehavior="close"/>
																															<action type="requeryModels" behavior="standard">
																																<models>
																																	<model>stng__Users</model>
																																</models>
																															</action>
																															<action type="showModal" openbehavior="open">
																																<skuid__modal title="Confirmation" width="600px">
																																	<components>
																																		<skuid__messageArea model="stng__CSVParseErrors" uniqueid="sk-38hw-91371">
																																			<group>
																																				<skuid__messageBlock model="stng__CSVParseErrors" title="Success!" description="Your file is being imported in background. Skuid will send you a confirmation email when import is complete.&#10;&#10;Feel free to leave this page and continue working." allowHTML="false" styleSettingsVariant="successStrong" icon="sk-webicon-ink:check-in-circle"/>
																																			</group>
																																		</skuid__messageArea>
																																	</components>
																																	<buttons>
																																		<skuid__button styleSettingsVariant="primary" uniqueid="button-users-CSVImport-finish" label="Okay">
																																			<actions>
																																				<action type="closeModals" closebehavior="close"/>
																																			</actions>
																																		</skuid__button>
																																	</buttons>
																																</skuid__modal>
																															</action>
																														</actions>
																													</skuid__button>
																												</buttons>
																											</skuid__buttonGroup>
																										</groups>
																									</skuid__buttonSet>
																								</components>
																							</division>
																						</divisions>
																						<styles>
																							<spacing top="2" bottom="2" left="3" right="3"/>
																						</styles>
																						<background/>
																					</skuid__grid>
																				</components>
																				<background/>
																			</skuid__wrapper>
																		</components>
																		<buttons/>
																	</step>
																</steps>
																<renderConditions logictype="and"/>
																<styleVariantConditions/>
															</skuid__wizard>
														</components>
														<buttons/>
														<afterCloseActions>
															<action type="cancel">
																<models>
																	<model>stng__ImportCSV</model>
																</models>
															</action>
														</afterCloseActions>
													</skuid__modal>
												</action>
											</actions>
										</skuid__button>
									</buttons>
								</skuid__buttonGroup>
							</groups>
						</skuid__buttonSet>
					</components>
				</division>
			</divisions>
			<renderConditions logictype="and"/>
			<styles>
				<spacing bottom="4"/>
			</styles>
			<background/>
		</skuid__grid>
		<skuid__wrapper uniqueid="sk-3t6O-1674" styleSettingsVariant="c5a44cb4-0fb9-4631-a576-a20f998816e0">
			<components>
				<skuid__grid uniqueid="grid-filterset" flexDirection="row" justifyContent="flex-start" alignItems="center" columnGutter="2" rowGutter="0" fullWidth="true">
					<divisions>
						<division alignSelf="auto" minWidth="24px" ratio="0">
							<components>
								<skuid__form showErrorsInline="true" model="page_ui_control" uniqueid="form-users-viewmode" mode="edit">
									<columns>
										<column verticalAlign="top" ratio="1">
											<sections>
												<section title="New Section" showHeading="false">
													<fields>
														<skuid__field id="user_view" uniqueid="sk-2KWz-12715" showHelp="true" displayAs="BUTTON_GROUP" label=" ">
															<renderConditions logictype="and" onhidedatabehavior="keep"/>
															<enableConditions logictype="and">
																<condition type="fieldvalue" enclosevalueinquotes="false" fieldmodel="stng__Users" sourcetype="modelproperty" sourceproperty="hasChanged" value="false" operator="="/>
															</enableConditions>
														</skuid__field>
													</fields>
												</section>
											</sections>
										</column>
									</columns>
									<styles>
										<spacing top="-1"/>
									</styles>
								</skuid__form>
							</components>
						</division>
						<division minWidth="100" ratio="1" alignSelf="auto">
							<components/>
						</division>
						<division alignSelf="auto" ratio="0" minWidth="0">
							<components>
								<skuid__text contents="Order by:" uniqueid="sk-1gXG-25750">
									<styles>
										<spacing/>
									</styles>
								</skuid__text>
							</components>
						</division>
						<division alignSelf="auto" minWidth="194px" ratio="0">
							<components>
								<skuid__form showErrorsInline="true" model="page_ui_control" uniqueid="form-users-orderby" mode="edit">
									<styles>
										<spacing top="-1" right="1"/>
									</styles>
									<columns>
										<column verticalAlign="top" ratio="1">
											<sections>
												<section showHeading="false">
													<fields>
														<skuid__field id="sortby" uniqueid="sk-1gVw-25332" label=" " showHelp="true">
															<enableConditions logictype="and">
																<condition type="fieldvalue" enclosevalueinquotes="false" fieldmodel="stng__Users" sourcetype="modelproperty" nosourcerowbehavior="deactivate" sourceproperty="hasChanged" value="false" operator="="/>
															</enableConditions>
														</skuid__field>
													</fields>
												</section>
											</sections>
										</column>
									</columns>
								</skuid__form>
							</components>
						</division>
						<division alignSelf="auto" ratio="0" maxWidth="240px">
							<components>
								<skuid__filterSet model="stng__Users" uniqueid="filterset-users" resetButtonBehavior="hide">
									<filters>
										<skuid__filter type="select" conditionSource="manual" filterMethod="server" labelMode="manual" createFilterOffOption="true" filterOffOptionLabel="Any Status" uniqueid="sk-3SER-3581" label="Status">
											<sources>
												<source type="manual" effectsbehavior="justdefault">
													<options>
														<option label="Active" type="complex">
															<effects>
																<effect action="set" value="true" condition="ActiveUser"/>
															</effects>
														</option>
														<option label="Inactive" type="complex">
															<effects>
																<effect action="set" value="false" condition="ActiveUser"/>
															</effects>
														</option>
													</options>
												</source>
											</sources>
										</skuid__filter>
										<skuid__filter type="select" conditionSource="manual" filterMethod="server" labelMode="manual" conditionName="CreationMethod" createFilterOffOption="true" filterOffOptionLabel="Any Creation Method" uniqueid="sk-3SER-3485" label="Creation Method">
											<sources>
												<source type="manual" effectsbehavior="justdefault">
													<options>
														<option label="Manual" type="simple" value="internal"/>
														<option label="Import" type="simple" value="import"/>
														<option label="Signup API" type="simple" value="signup-api"/>
														<option label="Single Sign On Provisioning" type="simple" value="sso-jit-provisioning"/>
													</options>
												</source>
											</sources>
										</skuid__filter>
										<skuid__filter type="select" conditionSource="manual" filterMethod="server" labelMode="manual" conditionName="UserType" createFilterOffOption="true" filterOffOptionLabel="Any Type" uniqueid="sk-3SER-3517" label="User Type">
											<sources>
												<source type="model" effectsbehavior="justdefault" model="stng__NoPublicLicenseType" labeltemplate="{{{type}}}" valuetemplate="{{type}}"/>
											</sources>
										</skuid__filter>
										<skuid__filter type="select" conditionSource="manual" filterMethod="server" labelMode="manual" conditionName="UserProfile" createFilterOffOption="true" filterOffOptionLabel="Any Profile" uniqueid="sk-3SER-3549" label="Profile">
											<sources>
												<source type="model" effectsbehavior="justdefault" model="stng__NonPublicUserProfiles" labeltemplate="{{{name}}}" valuetemplate="{{id}}"/>
											</sources>
											<renderConditions logictype="and"/>
											<styleVariantConditions/>
										</skuid__filter>
									</filters>
									<filtering enableSearch="false" instantSearch="true" instantFilters="true" searchMethod="client" emptySearchBehavior="query" searchPlaceholder="Search"/>
									<renderConditions logictype="and"/>
									<styleVariantConditions/>
									<styles>
										<spacing right="1"/>
									</styles>
									<positioning justifyContent="space-between" alignItems="flex-end"/>
									<sorting enable="false"/>
								</skuid__filterSet>
							</components>
						</division>
						<division alignSelf="auto" ratio="0">
							<components>
								<skuid__filterSet model="stng__Users" uniqueid="filterset-users-search" resetButtonBehavior="hide">
									<filters/>
									<filtering enableSearch="true" instantSearch="true" instantFilters="true" searchMethod="server" emptySearchBehavior="query" searchPlaceholder="Search" searchConditionName="search"/>
									<positioning justifyContent="space-between" alignItems="flex-end"/>
									<sorting enable="false"/>
									<styles>
										<spacing/>
									</styles>
								</skuid__filterSet>
							</components>
						</division>
					</divisions>
					<styles>
						<spacing bottom="2"/>
					</styles>
					<interactions/>
					<renderConditions logictype="and"/>
					<background/>
				</skuid__grid>
				<skuid__grid uniqueid="sk-zH1-42174" flexDirection="row" justifyContent="flex-start" alignItems="center" columnGutter="1">
					<divisions>
						<division alignSelf="auto" minWidth="0px" ratio="1">
							<components/>
						</division>
						<division ratio="0" alignSelf="auto">
							<components>
								<skuid__buttonSet uniqueid="sk-1HjH-20913" model="FiltersApplied">
									<groups>
										<skuid__buttonGroup uniqueId="sk-1HjH-20911">
											<buttons>
												<skuid__button label="Status: {{ActiveUserFilter}}" uniqueId="sk-1HjH-20912" icon="sk-webicon-ink:circle-close-outline" iconPosition="right" styleSettingsVariant="blue-pill-badge">
													<tooltip position="top" text="Clear Filter" compact="true"/>
													<hotkeys/>
													<renderConditions logictype="and"/>
													<enableConditions logictype="and">
														<condition type="fieldvalue" enclosevalueinquotes="false" fieldmodel="stng__Users" sourcetype="modelproperty" nosourcerowbehavior="deactivate" sourceproperty="hasChanged" value="false" operator="="/>
													</enableConditions>
													<styleVariantConditions/>
													<actions>
														<action type="blockUI" styleSettingsVariant="dark" message="Clearing filter" showPlaceholder="true"/>
														<action type="deactivateCondition" model="stng__Users" condition="ActiveUser" rememberInPersonalization="true"/>
														<action type="requeryModel" model="stng__Users" behavior="standard"/>
														<action type="unblockUI"/>
													</actions>
												</skuid__button>
											</buttons>
										</skuid__buttonGroup>
									</groups>
									<styles>
										<spacing/>
									</styles>
								</skuid__buttonSet>
							</components>
							<renderConditions logictype="and">
								<renderCondition type="blank" operator="!=" fieldmodel="FiltersApplied" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="ActiveUserFilter" value="null" enclosevalueinquotes="false"/>
								<renderCondition type="fieldvalue" enclosevalueinquotes="true" fieldmodel="FiltersApplied" sourcetype="modelproperty" nosourcerowbehavior="deactivate" sourceproperty="hasRows"/>
							</renderConditions>
						</division>
						<division alignSelf="auto" ratio="0">
							<components>
								<skuid__buttonSet uniqueid="sk-1R-g-22133" model="FiltersApplied">
									<groups>
										<skuid__buttonGroup uniqueId="sk-1R-g-22134">
											<buttons>
												<skuid__button label="Creation Method: {{CreationMethodFilter}}" uniqueId="sk-1R-g-22135" icon="sk-webicon-ink:circle-close-outline" iconPosition="right" styleSettingsVariant="blue-pill-badge">
													<tooltip position="top" text="Clear Filter" compact="true"/>
													<hotkeys/>
													<renderConditions logictype="and"/>
													<enableConditions logictype="and">
														<condition type="fieldvalue" enclosevalueinquotes="false" fieldmodel="stng__Users" sourcetype="modelproperty" nosourcerowbehavior="deactivate" sourceproperty="hasChanged" value="false" operator="="/>
													</enableConditions>
													<styleVariantConditions/>
													<actions>
														<action type="blockUI" styleSettingsVariant="dark" message="Clearing filter" showPlaceholder="true"/>
														<action type="deactivateCondition" model="stng__Users" condition="CreationMethod" rememberInPersonalization="true"/>
														<action type="requeryModel" model="stng__Users" behavior="standard"/>
														<action type="unblockUI"/>
													</actions>
												</skuid__button>
											</buttons>
										</skuid__buttonGroup>
									</groups>
								</skuid__buttonSet>
							</components>
							<renderConditions logictype="and">
								<renderCondition type="fieldvalue" enclosevalueinquotes="true" fieldmodel="FiltersApplied" sourcetype="modelproperty" nosourcerowbehavior="deactivate" sourceproperty="hasRows"/>
								<renderCondition type="blank" operator="!=" fieldmodel="FiltersApplied" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="CreationMethodFilter" value="null" enclosevalueinquotes="false"/>
							</renderConditions>
						</division>
						<division alignSelf="auto" ratio="0">
							<components>
								<skuid__buttonSet uniqueid="sk-1R---43453" model="FiltersApplied">
									<groups>
										<skuid__buttonGroup uniqueId="sk-1R---43454">
											<buttons>
												<skuid__button label="User Type: {{UserTypeFilter}}" uniqueId="sk-1R---43455" icon="sk-webicon-ink:circle-close-outline" iconPosition="right" styleSettingsVariant="blue-pill-badge">
													<tooltip position="top" text="Clear Filter" compact="true"/>
													<hotkeys/>
													<renderConditions logictype="and"/>
													<enableConditions logictype="and">
														<condition type="fieldvalue" enclosevalueinquotes="false" fieldmodel="stng__Users" sourcetype="modelproperty" nosourcerowbehavior="deactivate" sourceproperty="hasChanged" value="false" operator="="/>
													</enableConditions>
													<styleVariantConditions/>
													<actions>
														<action type="blockUI" styleSettingsVariant="dark" message="Clearing filter" showPlaceholder="true"/>
														<action type="deactivateCondition" model="stng__Users" condition="UserType" rememberInPersonalization="true"/>
														<action type="requeryModel" model="stng__Users" behavior="standard"/>
														<action type="unblockUI"/>
													</actions>
												</skuid__button>
											</buttons>
										</skuid__buttonGroup>
									</groups>
								</skuid__buttonSet>
							</components>
							<renderConditions logictype="and">
								<renderCondition type="fieldvalue" enclosevalueinquotes="true" fieldmodel="FiltersApplied" sourcetype="modelproperty" nosourcerowbehavior="deactivate" sourceproperty="hasRows"/>
								<renderCondition type="blank" operator="!=" fieldmodel="FiltersApplied" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="UserTypeFilter" value="null" enclosevalueinquotes="false"/>
							</renderConditions>
						</division>
						<division alignSelf="auto" ratio="0">
							<components>
								<skuid__buttonSet uniqueid="sk-1IxX-34765" model="FiltersApplied">
									<groups>
										<skuid__buttonGroup uniqueId="sk-1IxX-34766">
											<buttons>
												<skuid__button label="{{^$Model.FeatureFlags.data.0.appPermSetsEnabled}}Profile{{/$Model.FeatureFlags.data.0.appPermSetsEnabled}}{{#$Model.FeatureFlags.data.0.appPermSetsEnabled}}Site Permission Set{{/$Model.FeatureFlags.data.0.appPermSetsEnabled}}: {{UserProfileFilter}}" uniqueId="sk-1IxX-34767" icon="sk-webicon-ink:circle-close-outline" iconPosition="right" styleSettingsVariant="blue-pill-badge">
													<tooltip position="top" text="Clear Filter" compact="true"/>
													<hotkeys/>
													<renderConditions logictype="and"/>
													<enableConditions logictype="and">
														<condition type="fieldvalue" enclosevalueinquotes="false" fieldmodel="stng__Users" sourcetype="modelproperty" nosourcerowbehavior="deactivate" sourceproperty="hasChanged" value="false" operator="="/>
													</enableConditions>
													<styleVariantConditions/>
													<actions>
														<action type="blockUI" styleSettingsVariant="dark" message="Clearing filter" showPlaceholder="true"/>
														<action type="deactivateCondition" model="stng__Users" condition="UserProfile" rememberInPersonalization="true"/>
														<action type="requeryModels" behavior="standard">
															<models>
																<model>stng__Users</model>
															</models>
														</action>
														<action type="unblockUI"/>
													</actions>
												</skuid__button>
											</buttons>
										</skuid__buttonGroup>
									</groups>
								</skuid__buttonSet>
							</components>
							<renderConditions logictype="and">
								<renderCondition type="fieldvalue" enclosevalueinquotes="true" fieldmodel="FiltersApplied" sourcetype="modelproperty" nosourcerowbehavior="deactivate" sourceproperty="hasRows"/>
								<renderCondition type="blank" operator="!=" fieldmodel="FiltersApplied" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="UserProfileFilter" value="null" enclosevalueinquotes="false"/>
							</renderConditions>
						</division>
						<division alignSelf="auto" minWidth="0px" ratio="0">
							<components>
								<skuid__buttonSet uniqueid="sk-zKV-29363" position="left">
									<groups>
										<skuid__buttonGroup uniqueId="sk-zKV-29361">
											<buttons>
												<skuid__button label="Clear Filters" uniqueId="sk-zKV-29362" styleSettingsVariant="803b8f80-948e-46cc-840f-bc4b952464c3">
													<renderConditions logictype="and">
														<renderCondition type="fieldvalue" enclosevalueinquotes="true" fieldmodel="FiltersApplied" sourcetype="modelproperty" nosourcerowbehavior="deactivate" sourceproperty="hasRows"/>
													</renderConditions>
													<enableConditions logictype="and">
														<condition type="fieldvalue" enclosevalueinquotes="false" fieldmodel="stng__Users" sourcetype="modelproperty" nosourcerowbehavior="deactivate" sourceproperty="hasChanged" value="false" operator="="/>
													</enableConditions>
													<styleVariantConditions/>
													<actions>
														<action type="blockUI" styleSettingsVariant="dark" message="Resetting all filters.."/>
														<action type="deactivateFilterableConditions" rememberInPersonalization="true">
															<models>
																<model>stng__Users</model>
															</models>
														</action>
														<action type="requeryModels" behavior="standard">
															<models>
																<model>stng__Users</model>
															</models>
														</action>
														<action type="emptyModelData">
															<models>
																<model>FiltersApplied</model>
															</models>
														</action>
														<action type="unblockUI"/>
													</actions>
												</skuid__button>
											</buttons>
										</skuid__buttonGroup>
									</groups>
									<styles>
										<spacing left="1"/>
									</styles>
								</skuid__buttonSet>
							</components>
							<renderConditions logictype="custom" logic="1 AND (2 OR 3 OR 4 OR 5)">
								<renderCondition type="fieldvalue" enclosevalueinquotes="true" fieldmodel="FiltersApplied" sourcetype="modelproperty" nosourcerowbehavior="deactivate" sourceproperty="hasRows"/>
								<renderCondition type="blank" operator="!=" fieldmodel="FiltersApplied" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="ActiveUserFilter" value="null" enclosevalueinquotes="false"/>
								<renderCondition type="blank" operator="!=" fieldmodel="FiltersApplied" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="UserProfileFilter" value="null" enclosevalueinquotes="false"/>
								<renderCondition type="blank" operator="!=" fieldmodel="FiltersApplied" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="UserTypeFilter" value="null" enclosevalueinquotes="false"/>
								<renderCondition type="blank" operator="!=" fieldmodel="FiltersApplied" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="CreationMethodFilter" value="null" enclosevalueinquotes="false"/>
							</renderConditions>
						</division>
					</divisions>
					<styles>
						<spacing bottom="2"/>
					</styles>
					<renderConditions logictype="and">
						<renderCondition type="fieldvalue" enclosevalueinquotes="true" fieldmodel="FiltersApplied" sourcetype="modelproperty" nosourcerowbehavior="deactivate" sourceproperty="hasRows"/>
					</renderConditions>
					<styleVariantConditions/>
					<background/>
				</skuid__grid>
				<skuid__wrapper uniqueid="wrapper-users-pagecontent">
					<components>
						<skuid__wrapper uniqueid="sk-2KVz-22007" styleSettingsVariant="b5342fe9-7125-4bf8-b20b-ade1825d7e72">
							<components/>
							<background/>
							<renderConditions logictype="and">
								<renderCondition type="fieldvalue" enclosevalueinquotes="true" fieldmodel="stng__Users" sourcetype="modelproperty" nosourcerowbehavior="deactivate" sourceproperty="hasRows"/>
							</renderConditions>
							<styleVariantConditions/>
						</skuid__wrapper>
						<skuid__deck model="stng__Users" showSaveCancel="false" verticalAlign="top" minWidth="100%" uniqueid="deck-users-view" pageSize="25" setMaxWidth="auto">
							<components>
								<skuid__wrapper uniqueid="sk-2KV_-22364" styleSettingsVariant="d07add8f-e8b4-4c56-a978-89018954d967">
									<components>
										<skuid__grid uniqueid="sk-2KUR-12054" flexDirection="row" justifyContent="flex-start" alignItems="center" columnGutter="2" rowGutter="0">
											<divisions>
												<division minWidth="0" ratio="1" alignSelf="auto">
													<components>
														<skuid__grid uniqueid="sk-38Pb-60614" flexDirection="row" justifyContent="flex-start" alignItems="center">
															<divisions>
																<division minWidth="0" ratio="0" alignSelf="auto">
																	<components>
																		<skuid__image source="url" uniqueid="image-users-avatar" heightStrategy="fixed" height="" heightCustom="40px" model="stng__Users" url="/api/v1/me/{{id}}/avatar/medium" styleSettingsVariant="e84637e9-e395-4b14-9707-36f937394df8" datasource="SkuidLocal" imageHeight="32px" imageWidth="auto">
																			<conditions>
																				<condition type="contextrow" field="id" mergefield="id" operator="="/>
																			</conditions>
																			<renderConditions logictype="and"/>
																			<styleVariantConditions/>
																			<styles>
																				<spacing right="2"/>
																			</styles>
																		</skuid__image>
																	</components>
																</division>
																<division alignSelf="auto" minWidth="0" ratio="1">
																	<components>
																		<skuid__text uniqueid="field-users-active-name" model="stng__Users" styleSettingsVariant="bcf356fb-cd9b-4b49-adb6-299b154f243f" contents="{{first_name}} {{last_name}}">
																			<renderConditions logictype="and">
																				<renderCondition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="stng__Users" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="active" fieldtargetobjects="SkuidLocal" value="true"/>
																			</renderConditions>
																			<styleVariantConditions/>
																		</skuid__text>
																		<skuid__text uniqueid="field-users-inactive-name" model="stng__Users" styleSettingsVariant="6440f378-302e-4a08-8ce7-4eb27cef38fc" contents="{{first_name}} {{last_name}}">
																			<renderConditions logictype="and">
																				<renderCondition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="stng__Users" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="active" fieldtargetobjects="SkuidLocal" value="false"/>
																			</renderConditions>
																			<styleVariantConditions/>
																			<conditions/>
																		</skuid__text>
																		<skuid__text uniqueid="field-users-username" model="stng__Users" styleSettingsVariant="ef8d4ab0-3722-4e16-903c-ec582c9ca67f" contents="{{username}}">
																			<renderConditions logictype="and"/>
																			<styleVariantConditions/>
																		</skuid__text>
																	</components>
																</division>
															</divisions>
														</skuid__grid>
													</components>
												</division>
												<division alignSelf="auto" minWidth="0" ratio="1">
													<components>
														<skuid__text uniqueid="field-users-email" model="stng__Users" contents="{{{email}}}" styleSettingsVariant="ef8d4ab0-3722-4e16-903c-ec582c9ca67f"/>
													</components>
												</division>
												<division alignSelf="auto" ratio="1" minWidth="0">
													<components>
														<skuid__buttonSet uniqueid="sk-38RK-92274" model="stng__Users" position="left">
															<groups>
																<skuid__buttonGroup uniqueId="sk-38RK-92272">
																	<buttons>
																		<skuid__button label="{{profile.name}}" uniqueId="sk-38RK-92273" styleSettingsVariant="c5a0b776-647d-4cec-858c-482ff484acb0"/>
																	</buttons>
																</skuid__buttonGroup>
															</groups>
														</skuid__buttonSet>
													</components>
													<renderConditions logictype="and"/>
												</division>
												<division alignSelf="auto" ratio="0" minWidth="96px" maxWidth="96px">
													<components>
														<skuid__text uniqueid="sk-2Kgl-13043" model="stng__Users" contents="&lt;div&gt;Inactive&lt;/div&gt;&#10;" styleSettingsVariant="ef8d4ab0-3722-4e16-903c-ec582c9ca67f">
															<conditions/>
															<renderConditions logictype="and">
																<renderCondition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="stng__Users" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="active" fieldtargetobjects="SkuidLocal" value="false"/>
															</renderConditions>
															<styleVariantConditions/>
														</skuid__text>
													</components>
												</division>
												<division alignSelf="auto" minWidth="0" ratio="0">
													<components>
														<skuid__buttonSet model="stng__Users" uniqueid="sk-1FHb-69990">
															<groups>
																<skuid__buttonGroup uniqueId="button-users-list-rowactions" displayType="menu" iconPosition="right" styleSettingsVariant="a0f480fb-b5f6-42ca-af4e-a46635a70392" icon="sk-webicon-ink:dots-vertical">
																	<buttons>
																		<skuid__button label="Details" uniqueId="button-users-list-rowactions-details">
																			<actions>
																				<action type="redirect" window="self" url="/ns/skuid/ui/user/{{id}}"/>
																			</actions>
																		</skuid__button>
																		<skuid__button label="Reset Password" uniqueId="button-users-list-rowactions-resetpassword">
																			<actions>
																				<action type="action-sequence" action-sequence-id="8fa5378e-c28c-4847-b28b-05f011532396"/>
																			</actions>
																		</skuid__button>
																		<skuid__button label="Deactivate" uniqueId="button-users-list-rowactions-deactivateuser">
																			<renderConditions logictype="and">
																				<renderCondition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="stng__Users" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="active" fieldtargetobjects="SkuidLocal" value="true"/>
																			</renderConditions>
																			<enableConditions/>
																			<styleVariantConditions/>
																			<actions>
																				<action type="action-sequence" action-sequence-id="d2f6755a-7ad8-4ad5-a559-1544702eae53"/>
																			</actions>
																		</skuid__button>
																		<skuid__button label="Activate" uniqueId="button-users-list-rowactions-activateuser">
																			<renderConditions logictype="and">
																				<renderCondition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="stng__Users" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="active" fieldtargetobjects="SkuidLocal" value="false"/>
																			</renderConditions>
																			<enableConditions/>
																			<styleVariantConditions/>
																			<actions>
																				<action type="action-sequence" action-sequence-id="d98ff567-9c30-4789-a407-f331bdacfa86"/>
																			</actions>
																		</skuid__button>
																	</buttons>
																</skuid__buttonGroup>
															</groups>
															<conditions>
																<condition type="contextrow" field="id" mergefield="id" operator="="/>
															</conditions>
															<renderConditions logictype="and"/>
															<styleVariantConditions/>
															<styles>
																<spacing/>
															</styles>
														</skuid__buttonSet>
													</components>
													<renderConditions logictype="and"/>
												</division>
											</divisions>
											<background/>
										</skuid__grid>
									</components>
									<background/>
									<styles>
										<spacing/>
									</styles>
								</skuid__wrapper>
							</components>
							<filtering enableSearch="false" instantSearch="false"/>
							<interactions>
								<interaction type="tap">
									<action type="redirect" window="self" url="/ns/skuid/ui/user/{{id}}"/>
								</interaction>
							</interactions>
							<sorting enable="false"/>
						</skuid__deck>
					</components>
					<background/>
					<renderConditions logictype="and">
						<renderCondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="page_ui_control" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="user_view" value="List"/>
						<renderCondition type="fieldvalue" enclosevalueinquotes="true" fieldmodel="stng__Users" sourcetype="modelproperty" nosourcerowbehavior="deactivate" sourceproperty="hasRows"/>
					</renderConditions>
					<styleVariantConditions/>
				</skuid__wrapper>
				<skuid__table model="stng__Users" uniqueid="table-users-edit" mode="edit" pageSize="50" allowColumnOrdering="true" allowColumnHiding="true" adaptiveColumns="false" height="90">
					<fields>
						<field id="first_name" uniqueid="field-users-firstname" hideable="trueShowByDefault" columnWidth="156px"/>
						<field id="last_name" uniqueid="field-users-lastname" hideable="trueShowByDefault" columnWidth="156px"/>
						<field id="username" uniqueid="field-users-username" hideable="trueShowByDefault" columnWidth="156px"/>
						<field id="email" uniqueid="field-users-email" hideable="trueShowByDefault" columnWidth="156px">
							<renderConditions logictype="and" onhidedatabehavior="keep"/>
							<enableConditions logictype="and" message="For security purposes, you can only update your email from the My Settings page.">
								<condition type="userinfo" operator="!=" fieldmodel="stng__Users" sourcetype="fieldvalue" field="id" fieldtargetobjects="SkuidLocal" value="" enclosevalueinquotes="true" userinfotype="userid"/>
							</enableConditions>
							<styleVariantConditions/>
						</field>
						<field id="profile_id" uniqueid="field-users-profile" hideable="trueShowByDefault" label="{{^$Model.FeatureFlags.data.0.appPermSetsEnabled}}Profile{{/$Model.FeatureFlags.data.0.appPermSetsEnabled}}{{#$Model.FeatureFlags.data.0.appPermSetsEnabled}}Site Permission Set{{/$Model.FeatureFlags.data.0.appPermSetsEnabled}}" columnWidth="156px">
							<renderConditions logictype="and" onhidedatabehavior="keep"/>
							<enableConditions logictype="and" message="You cannot change your own Profile.">
								<condition type="userinfo" operator="!=" fieldmodel="stng__Users" sourcetype="fieldvalue" sourceuserinfotype="userid" field="id" fieldtargetobjects="SkuidLocal" value="" enclosevalueinquotes="true" userinfotype="userid"/>
							</enableConditions>
							<styleVariantConditions/>
						</field>
						<field id="active" uniqueid="field-users-active" displayAs="SWITCH" columnWidth="96px" hideable="trueShowByDefault"/>
						<field id="type" uniqueid="field-users-type" hideable="trueHideByDefault" columnWidth="156px">
							<renderConditions logictype="and" onhidedatabehavior="keep"/>
							<enableConditions/>
							<styleVariantConditions/>
						</field>
						<field id="federation_id" uniqueid="field-users-federationID" hideable="trueHideByDefault" columnWidth="156px"/>
						<field id="locked_out" uniqueid="field-users-locked" columnWidth="104px" displayAs="SWITCH" hideable="trueHideByDefault">
							<renderConditions logictype="and" onhidedatabehavior="keep"/>
							<enableConditions/>
							<styleVariantConditions/>
						</field>
						<field id="locale" uniqueid="field-users-locale" hideable="trueHideByDefault" columnWidth="156px">
							<renderConditions logictype="and" onhidedatabehavior="keep"/>
							<enableConditions/>
							<styleVariantConditions/>
						</field>
						<field id="time_zone" uniqueid="field-users-timezone" hideable="trueHideByDefault" columnWidth="156px"/>
						<field type="COMBO" label="Created" template="{{created_at}}&#10;{{created_by.name}}" uniqueid="fi-2Pf8-25809" readOnly="true" hideable="trueShowByDefault" columnWidth="164px"/>
						<field type="COMBO" label="Updated" template="{{updated_at}}&#10;{{updated_by.name}}" readOnly="true" uniqueid="fi-1FCx-55906" hideable="trueShowByDefault" columnWidth="164px">
							<renderConditions logictype="and" onhidedatabehavior="keep"/>
							<enableConditions/>
							<styleVariantConditions/>
						</field>
					</fields>
					<filtering enableSearch="false" instantSearch="false"/>
					<rowActions>
						<action type="multi" uniqueid="button-users-edit-menuoptions-activeuser" icon="sk-webicon-ink:dots-vertical">
							<actions>
								<action type="toggleMenu">
									<optionGroups>
										<optionGroup>
											<options>
												<option label="Details">
													<actions>
														<action type="redirect" window="self" url="/ns/skuid/ui/user/{{id}}"/>
													</actions>
												</option>
												<option label="Reset Password">
													<actions>
														<action type="action-sequence" action-sequence-id="8fa5378e-c28c-4847-b28b-05f011532396"/>
													</actions>
												</option>
												<option label="Deactivate">
													<actions>
														<action type="action-sequence" action-sequence-id="d2f6755a-7ad8-4ad5-a559-1544702eae53"/>
													</actions>
												</option>
											</options>
										</optionGroup>
									</optionGroups>
								</action>
							</actions>
							<renderConditions logictype="and">
								<renderCondition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="stng__Users" sourcetype="fieldvalue" field="active" fieldtargetobjects="SkuidLocal" value="true"/>
							</renderConditions>
						</action>
						<action type="multi" uniqueid="button-users-edit-menuoptions-inactiveuser" icon="sk-webicon-ink:dots-vertical">
							<actions>
								<action type="toggleMenu">
									<optionGroups>
										<optionGroup>
											<options>
												<option label="Details">
													<actions>
														<action type="redirect" window="self" url="/ns/skuid/ui/user/{{id}}"/>
													</actions>
												</option>
												<option label="Reset Password">
													<actions>
														<action type="action-sequence" action-sequence-id="8fa5378e-c28c-4847-b28b-05f011532396"/>
													</actions>
												</option>
												<option label="Activate">
													<actions>
														<action type="action-sequence" action-sequence-id="d98ff567-9c30-4789-a407-f331bdacfa86"/>
													</actions>
												</option>
											</options>
										</optionGroup>
									</optionGroups>
								</action>
							</actions>
							<renderConditions logictype="and">
								<renderCondition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="stng__Users" sourcetype="fieldvalue" field="active" fieldtargetobjects="SkuidLocal" value="false"/>
							</renderConditions>
						</action>
					</rowActions>
					<massActions>
						<action type="multi" label="Mass Update">
							<actions>
								<action type="massUpdate"/>
							</actions>
							<tooltip position="top"/>
							<renderConditions logictype="and"/>
						</action>
						<action type="multi" label="Activate Selected Users">
							<actions>
								<action type="blockUI" message="Activating users..." styleSettingsVariant="dark"/>
								<action type="updateRow" fieldmodel="stng__Users" affectedrows="context" enclosevalueinquotes="false">
									<updates>
										<update valuesource="fieldvalue" field="active" value="true"/>
									</updates>
								</action>
								<action type="save" rollbackonanyerror="true">
									<models>
										<model>stng__Users</model>
									</models>
									<onerroractions>
										<action type="unblockUI"/>
									</onerroractions>
								</action>
								<action type="unblockUI"/>
								<action type="showToast" duration="4" position="bl" message="Users activated"/>
							</actions>
						</action>
						<action type="multi" label="Deactivate Selected Users">
							<actions>
								<action type="blockUI" message="Deactivating users..." styleSettingsVariant="dark"/>
								<action type="updateRow" fieldmodel="stng__Users" affectedrows="context" enclosevalueinquotes="false">
									<updates>
										<update valuesource="fieldvalue" field="active" value="false"/>
									</updates>
								</action>
								<action type="save" rollbackonanyerror="true">
									<models>
										<model>stng__Users</model>
									</models>
									<onerroractions>
										<action type="unblockUI"/>
									</onerroractions>
								</action>
								<action type="unblockUI"/>
								<action type="showToast" duration="4" position="bl" message="Users deactivated"/>
							</actions>
							<renderconditions/>
						</action>
						<action type="multi" label="Reset Passwords">
							<actions>
								<action type="blockUI" message="Resetting passwords for selected users..."/>
								<action type="createRow" model="stng__UserPasswordReset" appendorprepend="prepend" defaultmodefornewitems="edit">
									<defaults>
										<default field="username" value="{{username}}" valuesource="fieldvalue"/>
									</defaults>
								</action>
								<action type="save">
									<models>
										<model>stng__UserPasswordReset</model>
									</models>
								</action>
								<action type="unblockUI"/>
								<action type="showToast" duration="4" position="bl" message="Passwords have been reset. Emails have been sent containing links allowing users to change their passwords."/>
							</actions>
							<renderconditions logictype="and"/>
						</action>
					</massActions>
					<actions/>
					<exportProperties useTableColumns="true" enableExportOptionOnTable="true"/>
					<renderConditions logictype="and">
						<renderCondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="page_ui_control" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="user_view" value="Table"/>
						<renderCondition type="fieldvalue" enclosevalueinquotes="true" fieldmodel="stng__Users" sourcetype="modelproperty" nosourcerowbehavior="deactivate" sourceproperty="hasRows"/>
					</renderConditions>
					<styleVariantConditions/>
					<sorting enable="false"/>
				</skuid__table>
				<skuid__wrapper uniqueid="wrapper-users-noresults">
					<components>
						<skuid__text contents="&lt;div style=&quot;text-align: center;&quot;&gt;No results found&lt;/div&gt;&#10;" uniqueid="sk-2LON-39482" styleSettingsVariant="ef8d4ab0-3722-4e16-903c-ec582c9ca67f">
							<styles>
								<spacing top="4" bottom="4" styleSettingsVariant="ef8d4ab0-3722-4e16-903c-ec582c9ca67f"/>
							</styles>
							<renderConditions logictype="and"/>
							<styleVariantConditions/>
						</skuid__text>
					</components>
					<background/>
					<renderConditions logictype="and">
						<renderCondition fieldmodel="stng__Users" sourcetype="modelproperty" nosourcerowbehavior="deactivate" sourceproperty="hasNoRows"/>
					</renderConditions>
					<styleVariantConditions/>
					<styles>
						<spacing/>
					</styles>
				</skuid__wrapper>
			</components>
			<background/>
			<styles>
				<spacing/>
			</styles>
		</skuid__wrapper>
		<!-- filterset for future implementation
		<skuid__filterSet model="stng__Users" uniqueid="sk-3ZLx-2270"><filters><skuid__filter type="select" conditionSource="manual"  filterMethod="server" labelMode="manual" conditionName="CreationMethod" createFilterOffOption="true" filterOffOptionLabel="Any Creation Method" uniqueid="sk-3SER-3485"><sources><source type="manual" effectsbehavior="justdefault"><options><option label="Manual" type="simple"  value="internal"/><option label="Import" type="simple"  value="import"/><option label="Signup API" type="simple"  value="signup-api"/><option label="Single Sign On Provisioning" type="simple"  value="sso-jit-provisioning"/></options></source></sources></skuid__filter><skuid__filter type="select" conditionSource="manual"  filterMethod="server" labelMode="manual" conditionName="UserType" createFilterOffOption="true" filterOffOptionLabel="Any Type" uniqueid="sk-3SER-3517"><sources><source type="model" effectsbehavior="justdefault"  model="stng__NoPublicLicenseType" labeltemplate="{{{type}}}" valuetemplate="{{type}}"/></sources></skuid__filter><skuid__filter type="select" conditionSource="manual"  filterMethod="server" labelMode="manual" conditionName="UserProfile" createFilterOffOption="true" filterOffOptionLabel="Any Profile" uniqueid="sk-3SER-3549"><sources><source type="model" effectsbehavior="justdefault"  model="stng__NonPublicUserProfiles" labeltemplate="{{{name}}}" valuetemplate="{{id}}"/></sources></skuid__filter><skuid__filter type="select" conditionSource="manual"  filterMethod="server" labelMode="manual" conditionName="ActiveUser" createFilterOffOption="true" filterOffOptionLabel="Active/Inactive" uniqueid="sk-3SER-3581"><sources><source type="manual" effectsbehavior="justdefault"><options><option label="Active" type="simple"  value="active"/><option label="Inactive" type="simple"  value="inactive"/></options></source></sources></skuid__filter></filters><filtering enableSearch="true" instantSearch="false" instantFilters="true" searchMethod="client" emptySearchBehavior="query" searchPlaceholder="Search Users"/><renderConditions logictype="and"><renderCondition type="fieldvalue" operator="=" enclosevalueinquotes="true"/></renderConditions></skuid__filterSet>
-->
	</components>
	<resources>
		<labels/>
		<javascript>
			<jsitem location="inlinesnippet" name="getCSVColumns" cachelocation="false">
        var $ = skuid.$,
        dfd = $.Deferred(),
        csvModel = skuid.$M("stng__ImportCSV"),
        columnsModel = skuid.$M("stng__CSVColumns"),
        sampleRows = skuid.$M("stng__CSVSampleRows"),
        csvFields = skuid.$M("stng__CSVFields"),
        row = csvModel.getFirstRow(),
        defaultError = "The uploaded file is not valid";

        function resetModels(){
            columnsModel.emptyData();
            sampleRows.emptyData();

            //field values should be empty until new columns can populate
            var csvFieldsRow = csvFields.getFirstRow();
            var emptyColumns = {};
            $.each(csvFields.fields, function(i, field) {
                emptyColumns[field.id] = "";
            });
            csvFields.updateRow(csvFieldsRow, emptyColumns);
        }


        // then populate columns model with column names
        if (row) {
            var filename = csvModel.getFirstRow().filename;

            if (typeof filename !== "undefined" &amp;&amp; filename.length){
                var columnData = {
                    delimiter: row.delimiter,
                };

                return $.ajax({
                    url: "/api/v1/files/" + filename + "/csv/columns",
                    type: "POST",
                    contentType: "application/json",
                    data: JSON.stringify(columnData),
                    dataType: "json",
                }).then(function(columns){
                    if (columns.length){
                        resetModels();
                        // Sort the columns by label
                        columns.sort(function(a, b) {
                        	return a.label.localeCompare(b.label);
                        });
                        $.each(columns, function(i, column){
                            columnsModel.createRow({
                            	doAppend: true,
                            	additionalConditions: [
                            		{ field: "value", "value": column.value },
	                                { field: "label", "value": column.label },
	                                { field: "index", "value": i }
                            	]
                            });
                        });
                    }
                    // Try to pre-match columns to fields
                    var fieldIds = {},
                    	csvFieldUpdates = {};
                    csvFields.fields.forEach(function(field) {
                    	let labelLower = field.label.toLowerCase();
                    	// Allow for fuzzy matches such as "first_name", "firstname", "First NAME", "First-name"
                    	fieldIds[field.id] = fieldIds[labelLower] = fieldIds[labelLower.replace(/[^0-9a-z]/gi, "")] = field.id;
                    });
                    columns.forEach(function(column) {
                    	var columnLower = column.label.toLowerCase(),
                    		match = fieldIds[columnLower];
                    	if (match) {
                    		csvFieldUpdates[match] = column.value;
                    	}
                    });
                    if (skuid.utils.size(csvFieldUpdates)) {
                    	csvFields.updateRow(csvFields.getFirstRow(), csvFieldUpdates);
                    }
                    return columnsModel.getRows();
                }).then(function(rows){
                    rows ? dfd.resolve() : dfd.reject({
                        msg: "No rows were found in this file",
                    })
                })
                .catch(function(err){
                    dfd.reject(err.responseJSON);
                });
            } else {
                dfd.reject({
                    msg: defaultError,
                });
            }
        } else {
            dfd.reject({
                msg: defaultError,
            });
        }

        return dfd;
      </jsitem>
			<jsitem location="inlinesnippet" name="previewRows" cachelocation="false">var $ = skuid.$,
    dfd = $.Deferred(),
    csvModel = skuid.$M("stng__ImportCSV"),
    row = csvModel.getFirstRow(),
    csvFieldsModel = skuid.$M("stng__CSVFields"),
    sampleRowsModel = skuid.$M("stng__CSVSampleRows"),
    parseErrorsModel = skuid.$M("stng__CSVParseErrors"),
    filename = skuid.$M("stng__ImportCSV").getFirstRow().filename,
    profile = skuid.$M("stng__NonPublicUserProfiles").getRows().filter(function(userProfile){
      return userProfile.id == row.profile;
    })[0];

function getFields(){
    return csvFieldsModel.getRecords()[0].get();
}

function createModelRowsFromResults(model, results) {
    $.each(results, function(i, row){
        var profile_name = row.profile_id;
        row.profile = profile_name;
        model.createRow({
            additionalConditions: Object.keys(row).map(function(field){
                return {
                    field: field,
                    value: row[field],
                };
            }),
        });
    });
    return model.save();
}

var rowData = {
    delimiter: row.delimiter,
    profile: {
      id: profile.id,
      name: profile.name,
    },
    fields: getFields(),
};

$.ajax({
    url: "/api/v1/files/" + filename + "/csv/rows",
    type: "POST",
    contentType: "application/json",
    data: JSON.stringify(rowData),
    dataType: 'json',
}).then(function(results){
    var successes = results.success,
        invalid = results.invalid;
    if (!invalid.length &amp;&amp; successes.length) {
        createModelRowsFromResults(sampleRowsModel, successes).then(function() {
            dfd.resolve(successes);  
        });
    } else if (invalid &amp;&amp; invalid.length) {
        createModelRowsFromResults(parseErrorsModel, invalid).then(function() {
            dfd.reject();  
        });
    } else {
        dfd.reject({
            error: "Bad Request",
            message: "After applying validation rules, there were no rows that could be imported in the file. Usernames must be unique.",
            statusCode: 500,
        });
    }
}).catch(function(err){
    dfd.reject(err.responseJSON);
});

return dfd;</jsitem>
			<jsitem location="inlinesnippet" name="runImport" cachelocation="false">
        var $ = skuid.$,
        dfd = $.Deferred(),
        csvModel = skuid.$M("stng__ImportCSV"),
        csvFieldsModel = skuid.$M("stng__CSVFields"),
        row = csvModel.getFirstRow(),
        filename = row.filename,
        defaultError = "The CSV file could not be imported",
        profile = skuid.$M("stng__NonPublicUserProfiles").getRows().filter(function(userProfile){
          return userProfile.id == row.profile
        })[0];

        var postData = {
            delimiter: row.delimiter,
            profile: {
              id: profile.id,
              name: profile.name,
            },
            fields: getFields(),
        };

        function getFields(){
            return csvFieldsModel.getRecords()[0].get();
        }

        $.ajax({
            url: "/api/v1/files/" + filename + "/csv",
            type: "POST",
            contentType: "application/json",
            data: JSON.stringify(postData),
            dataType: 'json',
        }).then(function(){
            dfd.resolve();
        }).catch(function(err) {
            dfd.reject(err.responseJSON);
        })

        return dfd;
      </jsitem>
			<jsitem location="inlinesnippet" name="updateFilename" cachelocation="false">
        var $ = skuid.$,
        dfd = $.Deferred(),
        csvModel = skuid.$M("stng__ImportCSV"),
        row = csvModel.getFirstRow(),
        savedFile = args.apiExtensions.$Result.body.name;

        //add successfully uploaded filename to the import model
        csvModel.updateRow(row,'filename', savedFile);
        var filename = csvModel.getFirstRow().filename;
        filename ? dfd.resolve() : dfd.reject();

        return dfd;
      </jsitem>
			<jsitem location="inlinesnippet" name="standardDefaultProfile" cachelocation="false">
        var csvModel = skuid.$M("stng__ImportCSV"),
        profileModel = skuid.$M("stng__NonPublicUserProfiles");

        var standard = profileModel.data.filter(function(item){
            return item.name == "Standard";
        });

        csvModel.updateRow(csvModel.getFirstRow(),{
            profile: standard[0].id
        });
      </jsitem>
			<jsitem location="inlinesnippet" name="checkForAppliedFilters" cachelocation="false">var params = arguments[0],
				$ = skuid.$,
			    model = skuid.$M('stng__Users'),
			    conditions = model.conditions,
			    filterModel = skuid.$M('FiltersApplied'),
			    filters = ['UserType','CreationMethod','UserProfile','ActiveUser'],
			    appliedFilters = [];

				$.each(conditions, function(i, row) {
				    if(filters.includes(row.name) &amp;&amp; row.value != "") {
				       appliedFilters.push({field: row.name + "Filter", value: row.value});
				    }
				})

				if (appliedFilters.length &gt; 0) {
				    filterModel.createRow({
				        additionalConditions: appliedFilters, doAppend: true
				    });
				    filterModel.save();
				} 
			</jsitem>
			<jsitem location="inlinesnippet" name="checkForFeatureFlags" cachelocation="false">var params = arguments[0],
   $ = skuid.$;
  
var model = skuid.$M("FeatureFlags")
model.updateRow(model.getFirstRow(),{
   appPermSetsEnabled: skuid.platform.hasFeature("Permission Sets"),
});</jsitem>
		</javascript>
		<actionsequences>
			<actionsequence id="761bfb93-e5bb-4130-9ca7-9224095987c2" label="Check for applied filters on page load" type="event-triggered" event-scope="component" event-name="page.rendered">
				<description/>
				<actions>
					<action type="custom" snippet="checkForAppliedFilters">
						<onerroractions/>
					</action>
					<action type="custom" snippet="checkForFeatureFlags"/>
				</actions>
			</actionsequence>
			<actionsequence id="8fa5378e-c28c-4847-b28b-05f011532396" label="Reset password" type="reusable">
				<actions>
					<action type="showModal">
						<skuid__modal title="Reset password" width="640px">
							<components>
								<skuid__text contents="Are you sure you want to reset password for&lt;br /&gt;&#10;&lt;br /&gt;&#10;&lt;strong&gt;{{first_name}} {{last_name}}&lt;/strong&gt;" uniqueid="sk-3Wzz-12422"/>
							</components>
							<buttons>
								<skuid__button label="Reset" uniqueid="button-users-resetpassword" styleSettingsVariant="primary" uniqueId="button-users-resetpassword">
									<actions>
										<action type="createRow" model="stng__UserPasswordReset" appendorprepend="prepend" defaultmodefornewitems="edit" affectedrows="context">
											<defaults>
												<default valuesource="fieldvalue" field="username" enclosevalueinquotes="true" value="{{username}}"/>
											</defaults>
										</action>
										<action type="save">
											<models>
												<model>stng__UserPasswordReset</model>
											</models>
										</action>
										<action type="closeAllPopups"/>
										<action type="showToast" duration="4" styleSettingsVariant="default" message="User's password has been reset. An email has been sent to the user containing a link allowing the user to change their password." clickToDismiss="true" position="bl"/>
									</actions>
								</skuid__button>
								<skuid__button label="Cancel" uniqueid="sk-3Wzz-12767" uniqueId="button-users-resetpassword-cancel">
									<actions>
										<action type="closeTopmostPopup"/>
									</actions>
								</skuid__button>
							</buttons>
						</skuid__modal>
					</action>
				</actions>
				<description/>
			</actionsequence>
			<actionsequence id="d2f6755a-7ad8-4ad5-a559-1544702eae53" label="Deactivate user" type="reusable">
				<actions>
					<action type="blockUI" message="Deactivating user..." styleSettingsVariant="dark"/>
					<action type="updateRow" fieldmodel="stng__Users" affectedrows="context" enclosevalueinquotes="false">
						<updates>
							<update valuesource="fieldvalue" field="active" value="false"/>
						</updates>
					</action>
					<action type="save" rollbackonanyerror="true">
						<models>
							<model>stng__Users</model>
						</models>
						<onerroractions>
							<action type="unblockUI"/>
						</onerroractions>
					</action>
					<action type="unblockUI"/>
					<action type="showToast" duration="4" position="bl" message="User deactivated"/>
				</actions>
				<description/>
			</actionsequence>
			<actionsequence id="d98ff567-9c30-4789-a407-f331bdacfa86" label="Activate user" type="reusable">
				<actions>
					<action type="blockUI" message="Activating user..." styleSettingsVariant="dark"/>
					<action type="updateRow" fieldmodel="stng__Users" affectedrows="context" enclosevalueinquotes="false">
						<updates>
							<update valuesource="fieldvalue" field="active" value="true"/>
						</updates>
					</action>
					<action type="save" rollbackonanyerror="true">
						<models>
							<model>stng__Users</model>
						</models>
						<onerroractions>
							<action type="unblockUI"/>
						</onerroractions>
					</action>
					<action type="unblockUI"/>
					<action type="showToast" duration="4" position="bl" message="User activated"/>
				</actions>
				<description/>
			</actionsequence>
		</actionsequences>
	</resources>
	<styles>
		<styleitem type="background" bgtype="none"/>
	</styles>
</skuid__page>

<skuidpage unsavedchangeswarning="no" personalizationmode="client" hideeditbutton="true" theme="Skuid Public">
	<models>
		<model id="copyright_year" query="true" createrowifnonefound="true" datasource="Ui-Only" processonclient="true" unloadwarningifunsavedchanges="false">
			<fields>
				<field id="year" displaytype="FORMULA" ogdisplaytype="TEXT" readonly="true" returntype="TEXT">
					<formula>YEAR(NOW())</formula>
				</field>
			</fields>
			<conditions/>
			<actions/>
		</model>
		<model id="UI" query="true" createrowifnonefound="true" datasource="Ui-Only" processonclient="true" unloadwarningifunsavedchanges="false">
			<fields>
				<field id="signup-path" displaytype="TEXT" defaultvaluetype="param" defaultValue="signupApiPath" label="Signup Path"/>
				<field id="signup-error" displaytype="TEXT"/>
				<field id="signup-status" displaytype="PICKLIST" ogdisplaytype="TEXT" picklistsource="manual" defaultvaluetype="fieldvalue" label="Signup Status">
					<picklistentries>
						<entry value="in_progress" label="In Progress"/>
						<entry value="success" label="Success"/>
						<entry value="failure" label="Failure"/>
					</picklistentries>
				</field>
			</fields>
			<conditions/>
			<actions/>
		</model>
		<model id="SignupErrors" query="false" createrowifnonefound="false" datasource="Ui-Only" processonclient="true" unloadwarningifunsavedchanges="false">
			<fields>
				<field id="message" displaytype="TEXT"/>
			</fields>
			<conditions/>
			<actions/>
		</model>
		<model id="Signup_UI" limit="20" query="false" createrowifnonefound="true" datasource="Ui-Only" type="readwrite" unloadwarningifunsavedchanges="false">
			<fields>
				<field id="email" displaytype="EMAIL" label="Email Address"/>
				<field id="firstName" displaytype="TEXT" label="First Name"/>
				<field id="lastName" displaytype="TEXT" label="Last Name"/>
				<field id="username" displaytype="TEXT" label="Username"/>
				<field id="AllRequiredFieldsNotProvided" displaytype="FORMULA" returntype="BOOLEAN" label="All Required Fields NOT Provided" uionly="true" readonly="true">
					<formula>ISBLANK({{username}}) || ISBLANK({{email}}) || ISBLANK({{firstName}}) || ISBLANK({{lastName}})</formula>
				</field>
			</fields>
			<conditions/>
			<actions/>
		</model>
	</models>
	<components>
		<wrapper uniqueid="sk-3PmWgm-67">
			<components/>
			<styles>
				<styleitem type="background"/>
				<styleitem type="border"/>
				<styleitem type="size" height="custom">
					<styles>
						<styleitem property="min-height" value="126px"/>
						<styleitem property="max-height" value="126px"/>
						<styleitem property="overflow-y" value="auto"/>
					</styles>
				</styleitem>
			</styles>
		</wrapper>
		<grid uniqueid="sk-2SWfuq-54">
			<divisions>
				<division behavior="flex" minwidth="0px" ratio="1" verticalalign="top">
					<components/>
				</division>
				<division behavior="specified" verticalalign="top" width="420px">
					<components>
						<image source="url" uniqueid="sk-3OmqBv-100" datasource="SkuidLocal" behavior="none" model="Login_UI" url="/api/v1/site/logo/large">
							<styles>
								<styleitem type="itemsize" width="custom" height="custom">
									<styles>
										<styleitem property="width" value="160px"/>
									</styles>
								</styleitem>
								<styleitem type="border"/>
								<styleitem property="margin" value="auto"/>
								<styleitem property="padding" value="20px"/>
							</styles>
						</image>
						<wrapper cssclass="public-main-wrapper">
							<components>
								<wizard deferstepcontentsrendering="false" buttonslocation="bottom" uniqueid="sk-2WTx4w-76">
									<steps>
										<step stepid="step1" steplabel="">
											<components>
												<pagetitle uniqueid="sk-1jqrdN-206">
													<actions/>
													<subtitle>Sign up for {{$User.organizationName}}</subtitle>
												</pagetitle>
												<template model="SignupErrors" allowhtml="true" multiple="false">
													<contents>&lt;div class="nx-error" onclick="skuid.$M('SignupErrors').emptyData();"&gt;{{message}}&lt;div&gt;</contents>
													<renderconditions logictype="and">
														<rendercondition type="fieldvalue" enclosevalueinquotes="true" fieldmodel="SignupErrors" sourcetype="modelproperty" nosourcerowbehavior="deactivate" sourceproperty="hasRows"/>
													</renderconditions>
												</template>
												<basicfieldeditor showheader="true" showsavecancel="false" showerrorsinline="true" model="Signup_UI" buttonposition="" uniqueid="sk-2WSQgz-94" mode="edit" layout="above">
													<columns>
														<column width="100%">
															<sections>
																<section title="" collapsible="no" showheader="false">
																	<fields>
																		<field id="firstName" valuehalign="" type="" uniqueid="sk-Cl7K4-85"/>
																		<field id="lastName" valuehalign="" type="" uniqueid="sk-Cl7K4-86"/>
																		<field id="email" valuehalign="" type="" uniqueid="sk-Cl7K4-87"/>
																		<field id="username" valuehalign="" type="" uniqueid="sk-Cl7K4-88"/>
																	</fields>
																</section>
															</sections>
														</column>
													</columns>
												</basicfieldeditor>
											</components>
											<actions>
												<action uniqueid="sk-2WTx4v-73" type="multi" label="SIGN UP" icon="">
													<renderconditions logictype="and">
														<rendercondition type="multiple" operator="not in" fieldmodel="UI" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="signup-status" value="" enclosevalueinquotes="true">
															<values>
																<value>in_progress</value>
																<value>success</value>
															</values>
														</rendercondition>
													</renderconditions>
													<enableconditions logictype="and" message="All fields are required.">
														<enablecondition type="fieldvalue" operator="=" fieldmodel="Signup_UI" sourcetype="fieldvalue" field="AllRequiredFieldsNotProvided" value="false" enclosevalueinquotes="false"/>
													</enableconditions>
													<hotkeys>
														<hotkey modifiers="" key="return" ignoretextinputs="false"/>
													</hotkeys>
													<actions>
														<action type="emptyModelData">
															<models>
																<model>SignupErrors</model>
															</models>
														</action>
														<action type="branch" label="If required fields not provided" model="Signup_UI">
															<formula>{{AllRequiredFieldsNotProvided}}</formula>
															<iftrueactions>
																<action type="createRow" model="SignupErrors">
																	<defaults>
																		<default field="message" value="Please fill out all required fields."/>
																	</defaults>
																</action>
															</iftrueactions>
														</action>
														<action type="updateRow" fieldmodel="UI" affectedrows="context" field="signup-status" enclosevalueinquotes="true" value="in_progress"/>
														<action type="platform-action" platform-action="user-signup" signupapi="{{{$Model.UI.data.0.signup-path}}}" firstname="{{{$Model.Signup_UI.data.0.firstName}}}" lastname="{{{$Model.Signup_UI.data.0.lastName}}}" email="{{{$Model.Signup_UI.data.0.email}}}" username="{{{$Model.Signup_UI.data.0.username}}}">
															<onerroractions>
																<action type="createRow" model="SignupErrors">
																	<defaults>
																		<default field="message" value="{{$PreviousAction.error}}"/>
																	</defaults>
																</action>
																<action type="updateRow" fieldmodel="UI" affectedrows="context" field="signup-status" enclosevalueinquotes="true" value="failure"/>
																<action type="save">
																	<models>
																		<model>UI</model>
																		<model>SignupErrors</model>
																	</models>
																</action>
															</onerroractions>
														</action>
														<action type="updateRow" fieldmodel="UI" affectedrows="context" field="signup-status" enclosevalueinquotes="true" value="success"/>
														<action type="redirect" window="self" url="/ui/signup-confirmation/{{{$Model.UI.data.0.signup-path}}}"/>
													</actions>
												</action>
												<action type="multi" label="SIGNUP IN PROGRESS..." stepid="" uniqueid="sk-Cnu43-512" window="self">
													<renderconditions logictype="and">
														<rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="UI" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="signup-status" value="in_progress"/>
													</renderconditions>
													<enableconditions logictype="and">
														<condition type="fieldvalue" operator="!=" enclosevalueinquotes="true" fieldmodel="UI" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="signup-status" value="in_progress"/>
													</enableconditions>
													<actions/>
													<hotkeys/>
												</action>
											</actions>
										</step>
									</steps>
								</wizard>
							</components>
						</wrapper>
					</components>
				</division>
				<division behavior="flex" verticalalign="top" minwidth="0px" ratio="1">
					<components/>
				</division>
			</divisions>
			<styles>
				<styleitem type="background" bgtype="none"/>
			</styles>
		</grid>
		<wrapper uniqueid="sk-3Pmt7G-84">
			<components/>
			<styles>
				<styleitem type="background"/>
				<styleitem type="border"/>
				<styleitem type="size" height="custom">
					<styles>
						<styleitem property="min-height" value="100px"/>
						<styleitem property="max-height" value="100px"/>
						<styleitem property="overflow-y" value="auto"/>
					</styles>
				</styleitem>
			</styles>
		</wrapper>
	</components>
	<resources>
		<labels/>
		<javascript/>
		<css/>
		<actionsequences uniqueid="sk-j3huG-139"/>
	</resources>
	<styles>
		<styleitem property="min-height" value="100vh"/>
		<styleitem property="background-color" value="#F2F5F6"/>
	</styles>
</skuidpage>
